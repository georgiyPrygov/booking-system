(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{150:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/standard-one.3e8ef859.jpeg"},151:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/standard-two.4035dbf0.jpeg"},152:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/standard-three.2682eb5c.jpeg"},153:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/standard-four.734f97b0.jpeg"},154:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/standard-five.043a6b5e.jpeg"},243:function(e,t,a){},253:function(e,t,a){},254:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/luxe_2_6.877bea25.jpg"},255:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/luxe_2_1.5d2d5390.jpeg"},256:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/luxe_2_22.af6ebf3d.jpeg"},257:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/luxe_2_3.aa4591f8.jpeg"},258:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/luxe_2_4.a126f372.jpeg"},259:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/luxe_2_6.877bea25.jpg"},260:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/luxe_2_1.f8f3262d.jpeg"},261:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/luxe_2_2.415c9356.jpeg"},262:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/luxe_2_3.8317c69c.jpeg"},263:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/luxe_2_4.29208aa0.jpeg"},264:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/luxe_2_7.ef25a229.jpg"},265:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/luxe_3_1.84add8ba.jpeg"},266:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/luxe_3_2.75cc5286.jpeg"},267:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/luxe_3_3.939ad6fb.jpeg"},268:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/luxe_3_4.c04a8e3e.jpeg"},269:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/luxe_3_5.d8b1ec27.jpeg"},270:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/luxe_3_1.0e432eb9.jpeg"},271:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/luxe_3_2.66e3c674.jpeg"},272:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/luxe_3_3.5350dab3.jpeg"},273:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/luxe_3_4.9377e570.jpeg"},274:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/luxe_3_5.eb9045e5.jpeg"},275:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_4_1.17a0f963.jpeg"},276:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_4_2.2c5bd61a.jpeg"},277:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_4_3.68323942.jpeg"},278:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_4_4.787cc59f.jpeg"},279:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_4_5.5ae1c11b.jpeg"},280:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_4_1.e4ddfda6.jpeg"},281:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_4_2.f23f1b69.jpeg"},282:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_4_3.e6e9414c.jpeg"},283:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_4_4.ae017cb1.jpeg"},284:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_4_5.c5b8b176.jpeg"},285:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_5_1.5591e83e.jpeg"},286:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_5_2.2b721e04.jpeg"},287:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_5_3.9ca91c3f.jpeg"},288:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_5_4.36c2896a.jpeg"},289:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_5_5.61564a5b.jpeg"},290:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_5_1.5591e83e.jpeg"},291:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_5_2.44540899.jpeg"},292:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_5_3.9ca91c3f.jpeg"},293:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_5_4.8eb29124.jpeg"},294:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_5_5.0dbe6609.jpeg"},295:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_6_1.c4d8a580.jpeg"},296:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_6_2.efe8ea47.jpeg"},297:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_6_3.962af71d.jpeg"},298:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_6_4.d133d02f.jpeg"},299:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_6_5.e44cd47c.jpeg"},300:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_6_1.c4d8a580.jpeg"},301:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_6_2.664c3d59.jpeg"},302:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_6_3.962af71d.jpeg"},303:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_6_4.1db15008.jpeg"},304:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe_6_5.5802f7c8.jpeg"},306:function(e,t,a){},324:function(e,t,a){},327:function(e,t,a){},328:function(e,t,a){},329:function(e,t,a){},332:function(e,t,a){},333:function(e,t,a){},334:function(e,t,a){},335:function(e,t,a){},336:function(e,t,a){},337:function(e,t,a){},338:function(e,t,a){},339:function(e,t,a){},344:function(e,t){},346:function(e,t){},356:function(e,t){},358:function(e,t){},385:function(e,t){},387:function(e,t){},388:function(e,t){},393:function(e,t){},395:function(e,t){},401:function(e,t){},403:function(e,t){},422:function(e,t){},434:function(e,t){},437:function(e,t){},440:function(e,t,a){},441:function(e,t,a){},442:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(22),r=a.n(s),i=(a(243),a(6)),o=a(23),l=a(15),u=(a(244),a(247),a(18)),d=function(e){return e.calendar.calendarData.reservations},j=function(e){return e.calendar.calendarData.range},b=function(e){return e.calendar.calendarData.editedRange},m=function(e){return e.calendar.calendarData.bookingRange},f=function(e){return e.calendar.calendarData.reservationsState},O=function(e){return e.calendar.calendarData.guests},h=function(e){return e.calendar.calendarData.availableRooms},g=function(e){return e.calendar.calendarData.datePickerState},p=function(e){return e.calendar.calendarData.nightsCount},v=function(e){return e.calendar.calendarData.totalPrice},x=a(505),N=a(499),k=a(491),_=a(500),D=(a(253),{standard:{id:0,adminName:"standard",amount:1,price:1100,category:"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442",adminCategory:"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442",name:"\u0414\u0432\u043e\u0445\u043c\u0456\u0441\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u0437 \u0432\u0438\u0434\u043e\u043c \u043d\u0430 \u0433\u043e\u0440\u0438",details:"\u043c\u0430\u043a\u0441. 2 \u0433\u043e\u0441\u0442\u044f \xb7 1 \u0441\u043f\u0430\u043b\u044c\u043d\u044f \xb7 1 \u0434\u0432\u0443\u0445\u0441\u043f\u0430\u043b\u044c\u043d\u0435 \u043b\u0456\u0436\u043a\u043e \xb7 1 \u0441\u0430\u043d\u0432\u0443\u0437\u043e\u043b \xb7 Wi-Fi \xb7 \u0432\u0438\u0445\u0456\u0434 \u043d\u0430 \u0442\u0435\u0440\u0430\u0441\u0441\u0443 \xb7 \u0432\u0438\u0434 \u043d\u0430 \u0433\u043e\u0440\u0438",slider_photos:[a(150).default,a(151).default,a(152).default,a(153).default,a(154).default],big_photos:[a(150).default,a(151).default,a(152).default,a(153).default,a(154).default],extra_cost:0},luxe_2:{id:1,adminName:"luxe_2",amount:1,price:1300,adminCategory:"\u041b\u044e\u043a\u0441 \u21162",category:"\u041b\u044e\u043a\u0441",name:"\u0414\u0432\u043e\u0445\u043c\u0456\u0441\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u0437 \u0434\u0432\u043e\u043c\u0430 \u043f\u0430\u043d\u043e\u0440\u0430\u043c\u043d\u0438\u043c\u0438 \u0432\u0456\u043a\u043d\u0430\u043c\u0438 \u0442\u0430 \u0432\u0438\u0434\u043e\u043c \u043d\u0430 \u0433\u043e\u0440\u0438",details:"2-3 \u0433\u043e\u0441\u0442\u044f \xb7 1 \u0441\u043f\u0430\u043b\u044c\u043d\u044f \xb7 1 \u0434\u0432\u043e\u0441\u043f\u0430\u043b\u044c\u043d\u0435 \u043b\u0456\u0436\u043a\u043e \xb7 1 \u0441\u0430\u043d\u0432\u0443\u0437\u043e\u043b \xb7 \u0432\u0438\u0445\u0456\u0434 \u043d\u0430 \u0442\u0435\u0440\u0430\u0441\u0441\u0443 \xb7 \u0432\u0438\u0434 \u043d\u0430 \u0433\u043e\u0440\u0438",slider_photos:[a(254).default,a(255).default,a(256).default,a(257).default,a(258).default],big_photos:[a(259).default,a(260).default,a(261).default,a(262).default,a(263).default,a(264).default],extra_cost:350},luxe_3:{id:2,adminName:"luxe_3",amount:1,price:1300,category:"\u041b\u044e\u043a\u0441",adminCategory:"\u041b\u044e\u043a\u0441 \u21163",name:"\u0414\u0432\u043e\u0445\u043c\u0456\u0441\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u0437 \u0432\u0438\u0434\u043e\u043c \u043d\u0430 \u0433\u043e\u0440\u0438",details:"2-3 \u0433\u043e\u0441\u0442\u044f \xb7 1 \u0441\u043f\u0430\u043b\u044c\u043d\u044f \xb7 1 \u0434\u0432\u043e\u0441\u043f\u0430\u043b\u044c\u043d\u0435 \u043b\u0456\u0436\u043a\u043e \xb7 1 \u0441\u0430\u043d\u0432\u0443\u0437\u043e\u043b \xb7 \u0432\u0438\u0445\u0456\u0434 \u043d\u0430 \u0442\u0435\u0440\u0430\u0441\u0441\u0443 \xb7 \u0432\u0438\u0434 \u043d\u0430 \u0433\u043e\u0440\u0438",slider_photos:[a(265).default,a(266).default,a(267).default,a(268).default,a(269).default],big_photos:[a(270).default,a(271).default,a(272).default,a(273).default,a(274).default],extra_cost:350},deluxe_4:{id:3,adminName:"deluxe_4",amount:1,price:1500,category:"\u0414\u0435\u043b\u044e\u043a\u0441",adminCategory:"\u0414\u0435\u043b\u044e\u043a\u0441 \u21164",name:"\u0414\u0432\u043e\u0445\u043c\u0456\u0441\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440  \u043d\u0430 \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u043f\u043e\u0432\u0435\u0440\u0441\u0456 \u0437 \u0432\u0438\u0434\u043e\u043c \u043d\u0430 \u0433\u043e\u0440\u0438",details:"2-3 \u0433\u043e\u0441\u0442\u044f \xb7 1 \u0441\u043f\u0430\u043b\u044c\u043d\u044f \xb7 1 \u0434\u0432\u043e\u0441\u043f\u0430\u043b\u044c\u043d\u0435 \u043b\u0456\u0436\u043a\u043e \xb7 1 \u0441\u0430\u043d\u0432\u0443\u0437\u043e\u043b \xb7 \u0432\u0438\u0445\u0456\u0434 \u043d\u0430 \u0442\u0435\u0440\u0430\u0441\u0441\u0443 \xb7 \u0432\u0438\u0434 \u043d\u0430 \u0433\u043e\u0440\u0438",slider_photos:[a(275).default,a(276).default,a(277).default,a(278).default,a(279).default],big_photos:[a(280).default,a(281).default,a(282).default,a(283).default,a(284).default],extra_cost:350},deluxe_5:{id:4,adminName:"deluxe_5",amount:1,price:1500,category:"\u0414\u0435\u043b\u044e\u043a\u0441",adminCategory:"\u0414\u0435\u043b\u044e\u043a\u0441 \u21165",name:"\u0414\u0432\u043e\u0445\u043c\u0456\u0441\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u043d\u0430 \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u043f\u043e\u0432\u0435\u0440\u0441\u0456 \u0437 \u0432\u0438\u0434\u043e\u043c \u043d\u0430 \u0433\u043e\u0440\u0438",details:"2-3 \u0433\u043e\u0441\u0442\u044f \xb7 1 \u0441\u043f\u0430\u043b\u044c\u043d\u044f \xb7 1 \u0434\u0432\u043e\u0441\u043f\u0430\u043b\u044c\u043d\u0435 \u043b\u0456\u0436\u043a\u043e \xb7 1 \u0441\u0430\u043d\u0432\u0443\u0437\u043e\u043b \xb7 \u0432\u0438\u0445\u0456\u0434 \u043d\u0430 \u0442\u0435\u0440\u0430\u0441\u0441\u0443 \xb7 \u0432\u0438\u0434 \u043d\u0430 \u0433\u043e\u0440\u0438",slider_photos:[a(285).default,a(286).default,a(287).default,a(288).default,a(289).default],big_photos:[a(290).default,a(291).default,a(292).default,a(293).default,a(294).default],extra_cost:350},deluxe_6:{id:5,adminName:"deluxe_6",amount:1,price:1500,category:"\u0414\u0435\u043b\u044e\u043a\u0441",adminCategory:"\u0414\u0435\u043b\u044e\u043a\u0441 \u21166",name:"\u0414\u0432\u043e\u0445\u043c\u0456\u0441\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440  \u043d\u0430 \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u043f\u043e\u0432\u0435\u0440\u0441\u0456 \u0437 \u0432\u0438\u0434\u043e\u043c \u043d\u0430 \u0433\u043e\u0440\u0438",details:"2-3 \u0433\u043e\u0441\u0442\u044f \xb7 1 \u0441\u043f\u0430\u043b\u044c\u043d\u044f \xb7 1 \u0434\u0432\u043e\u0441\u043f\u0430\u043b\u044c\u043d\u0435 \u043b\u0456\u0436\u043a\u043e \xb7 1 \u0441\u0430\u043d\u0432\u0443\u0437\u043e\u043b \xb7 \u0432\u0438\u0445\u0456\u0434 \u043d\u0430 \u0442\u0435\u0440\u0430\u0441\u0441\u0443 \xb7 \u0432\u0438\u0434 \u043d\u0430 \u0433\u043e\u0440\u0438",slider_photos:[a(295).default,a(296).default,a(297).default,a(298).default,a(299).default],big_photos:[a(300).default,a(301).default,a(302).default,a(303).default,a(304).default],extra_cost:350}}),y=a(1),S=function(){var e=Object(l.g)(),t=Object(l.h)().id,a=Object(n.useState)("/calendar/".concat(t)),c=Object(i.a)(a,2),s=c[0],r=c[1];return Object(y.jsxs)(x.a,{fullWidth:!0,className:"room-select-container",children:[Object(y.jsx)(N.a,{id:"room-select-label",children:"\u0422\u0438\u043f \u043a\u043e\u043c\u043d\u0430\u0442\u044b"}),Object(y.jsx)(k.a,{labelId:"room-select-label",id:"room-type-select",value:void 0!==t?s:"",label:"\u0422\u0438\u043f \u043a\u043e\u043c\u043d\u0430\u0442\u044b",onChange:function(t){r(t.target.value),e(t.target.value)},children:Object.keys(D).map((function(e){return Object(y.jsx)(_.a,{value:"/calendar/".concat(D[e].adminName),children:D[e].adminCategory},D[e].id)}))})]})},R=a(516),w=a(510),C=(a(306),a(14)),I=a.n(C),E=a(114),P=a(507),M=a(497),Y=a(513),A=a(514),T=a(515),L=a(504),z=a(490),H=a(492),W=a(3),B=a(9),U=a(496),F=a(511),q=a(494),G=a(512),K=a(503),J=a(64),V=a.n(J),Z=a(21),Q=Object(Z.b)("calendar/getReservations"),X=Object(Z.b)("calendar/getDisabledDates"),$=Object(Z.b)("calendar/addReservation"),ee=Object(Z.b)("calendar/deleteReservation"),te=Object(Z.b)("calendar/updateReservation"),ae=Object(Z.b)("calendar/updateReservationsCount"),ne=Object(Z.b)("calendar/setEditedRange"),ce=Object(Z.b)("calendar/setBookingRange"),se=Object(Z.b)("calendar/setGuests"),re=Object(Z.b)("calendar/setAvailableRooms"),ie=Object(Z.b)("calendar/setDatePickerState"),oe=Object(Z.b)("calendar/setNightsCount"),le=Object(Z.b)("calendar/setTotalPrice"),ue={getReservations:Q,getDisabledDates:X,addReservation:$,deleteReservation:ee,updateReservation:te,updateReservationsCount:ae,setEditedRange:ne,setBookingRange:ce,setGuests:se,setRange:Object(Z.b)("calendar/setRange"),setAvailableRooms:re,setDatePickerState:ie,setNightsCount:oe,setTotalPrice:le},de={getData:Object(Z.b)("snackbar/getData"),setIsOpened:Object(Z.b)("snackbar/setIsOpened")},je=function(e){var t=e.userId,a=e.roomType,n=e.isAdmin;return function(e){V.a.get("/api/reservations",{params:{userId:t,roomType:a,isAdmin:n}}).then((function(t){e(ue.getReservations(t.data))})).catch((function(t){e(de.getData({message:t.message,status:"error"})),e(de.setIsOpened(!0))}))}},be=function(e){return function(t){V.a.post("/api/reservations",Object(B.a)({},e)).then((function(a){t(ue.addReservation(e)),t(ue.updateReservationsCount(1)),t(de.getData({message:a.data.message,status:"success"})),t(de.setIsOpened(!0))})).catch((function(e){t(de.getData({message:e.message,status:"error"})),t(de.setIsOpened(!0))}))}},me=function(e){return function(t){V.a.delete("/api/reservations",{params:{id:e}}).then((function(a){t(ue.deleteReservation(e)),t(ue.updateReservationsCount(!1)),t(de.getData({message:a.data.message,status:"success"})),t(de.setIsOpened(!0))})).catch((function(e){t(de.getData({message:e.message,status:"error"})),t(de.setIsOpened(!0))}))}},fe=function(e){return function(t){V.a.patch("/api/reservations",Object(B.a)({},e)).then((function(e){t(ue.updateReservation(e.data)),t(de.getData({message:"\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043e",status:"success"})),t(de.setIsOpened(!0))})).catch((function(e){t(de.getData({message:e.message,status:"error"})),t(de.setIsOpened(!0))}))}},Oe=function(e){return function(t){t(ue.setEditedRange(e))}},he=function(e){return function(t){t(ue.setBookingRange(e))}},ge=function(e){return function(t){t(ue.setGuests(e))}},pe=function(e){var t=e.start,a=e.end;return function(e){e(ue.setRange({start:t,end:a}))}},ve=function(e){return function(t){t(ue.setAvailableRooms(e))}},xe=function(e){return function(t){t(ue.setDatePickerState(e))}},Ne=function(e){return function(t){t(ue.setNightsCount(e))}},ke=function(e){return function(t){t(ue.setTotalPrice(e))}},_e=(a(100),a(70)),De=a.n(_e),ye=(a(324),{MONTHS:["\u0421\u0456\u0447\u0435\u043d\u044c","\u041b\u044e\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c","\u041a\u0432\u0456\u0442\u0435\u043d\u044c","\u0422\u0440\u0430\u0432\u0435\u043d\u044c","\u0427\u0435\u0440\u0432\u0435\u043d\u044c","\u041b\u0438\u043f\u0435\u043d\u044c","\u0421\u0435\u0440\u043f\u0435\u043d\u044c","\u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c","\u0416\u043e\u0432\u0442\u0435\u043d\u044c","\u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043d\u044c"],WEEKDAYS_LONG:["\u041f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a","\u0412\u0456\u0432\u0442\u043e\u0440\u043e\u043a","\u0421\u0435\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440","\u041f'\u044f\u0442\u043d\u0438\u0446\u044f","\u0421\u0443\u0431\u043e\u0442\u0430","\u041d\u0435\u0434\u0456\u043b\u044f"],WEEKDAYS_SHORT:["\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431","\u041d\u0434"]}),Se=Object(u.b)((function(e){return{reservations:d(e),range:j(e)}}),(function(e){return{setEditedRange:function(t){return e(Oe(t))}}}))((function(e){var t=e.reservations,a=e.setEditedRange,c=e.editedReservation,s=e.range,r={from:null,to:null},o=Object(n.useState)(r),u=Object(i.a)(o,2),d=u[0],j=u[1],b=Object(n.useState)(null),m=Object(i.a)(b,2),f=m[0],O=m[1],h=Object(n.useState)(null),g=Object(i.a)(h,2),p=g[0],v=g[1],x=Object(n.useState)(null),N=Object(i.a)(x,2),k=N[0],_=N[1],S=Object(n.useState)(0),R=Object(i.a)(S,2),w=R[0],C=R[1],I=Object(n.useState)(!1),E=Object(i.a)(I,2),P=E[0],M=E[1],Y={start:d.from,end:d.to},A=Object(l.h)().id;Object(n.useEffect)((function(){C(D[A].amount)}),[A]),Object(n.useEffect)((function(){a({from:s.start,to:s.end})}),[s]),Object(n.useEffect)((function(){if(0!==t.length){var e=[];e.push({before:new Date});for(var a=function(a){t.filter((function(e){return e.start===t[a].start&&e.start!==c[0].start})).length>=w&&e.push(new Date(t[a].start),{after:new Date(t[a].start),before:new Date(t[a].end)})},n=0;n<t.length;n++)a(n);v(e),_(e)}}),[t,w]),Object(n.useEffect)((function(){d.from&&_([{after:f,before:d.from}])}),[d,f]),Object(n.useEffect)((function(){_(p),a(d)}),[d.to]),Object(n.useEffect)((function(){M(!0)}),[k]);var T=function(){_(p)};return Object(y.jsx)("div",{className:"row",children:P?Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(De.a,{mode:"range",numberOfMonths:2,months:ye.MONTHS,weekdaysLong:ye.WEEKDAYS_LONG,weekdaysShort:ye.WEEKDAYS_SHORT,fromMonth:new Date,disabledDays:null!==k?k:p,selectedDays:d,modifiers:Y,onDayClick:function(e,t){var a=t.disabled;if(e.setHours(0,0,0,0),a)T();else{j(r);for(var n=0;n<k.length;n++)k[n]>e&&O(k[n]);var c=_e.DateUtils.addDayToRange(e,d);null!==d.from&&null!==d.to||j(c)}}})}):Object(y.jsx)("div",{children:"Loading..."})})})),Re=Object(u.b)((function(e){return{reservations:d(e),editedRange:b(e)}}),(function(e){return{updateReservation:function(t){return e(fe(t))},deleteReservation:function(t){return e(me(t))}}}))((function(e){var t=e.editedReservation,a=e.setModalState,c=e.updateReservation,s=e.deleteReservation,r=e.editedRange,o=Object(l.h)().id,u={name:"",email:"",descr:"",phone:"",start:null,end:null,title:"",roomType:o,roomPrice:D[o].price,paymentStatus:!1,guests:2,totalPrice:null,nightsCount:null,bookingDate:null},d=Object(n.useState)(u),j=Object(i.a)(d,2),b=j[0],m=j[1];Object(n.useEffect)((function(){m(t[0]),""!==b.name&&null!==r.to&&m(Object(B.a)(Object(B.a)({},b),{},{start:r.from,end:r.to,nightsCount:I()(r.to).diff(I()(r.from),"days")}))}),[t,r]),Object(n.useEffect)((function(){m(Object(B.a)(Object(B.a)({},b),{},{totalPrice:b.nightsCount*b.roomPrice}))}),[b.roomPrice,b.nightsCount]),Object(n.useEffect)((function(){m(Object(B.a)(Object(B.a)({},b),{},{roomType:o,roomPrice:D[o].price}))}),[o]);var f=function(e){"name"===e.target.name?m(Object(B.a)(Object(B.a)({},b),{},{name:e.target.value,title:e.target.value})):m(Object(B.a)(Object(B.a)({},b),{},Object(W.a)({},e.target.name,e.target.value))),"paymentStatus"===e.target.name&&m(Object(B.a)(Object(B.a)({},b),{},{paymentStatus:e.target.checked}))};return Object(y.jsxs)(w.a,{className:"reservation-edit-form",children:[Object(y.jsx)(E.a,{variant:"h5",component:"h5",sx:{marginBottom:"20px"},children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0440\u0435\u0437\u0435\u0440\u0432\u0430\u0446\u0438\u0438"}),Object(y.jsx)(Se,{editedReservation:t}),Object(y.jsx)(U.a,{required:!0,id:"name",label:"\u0418\u043c\u044f \u0433\u043e\u0441\u0442\u044f",name:"name",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0433\u043e\u0441\u0442\u044f",onChange:f,value:b.name,fullWidth:!0,margin:"normal",size:"small",InputLabelProps:{shrink:!0}}),Object(y.jsx)(U.a,{required:!0,id:"email",label:"Email",name:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u044d\u043c\u0435\u0439\u043b",onChange:f,value:b.email,type:"email",fullWidth:!0,margin:"normal",size:"small",InputLabelProps:{shrink:!0}}),Object(y.jsx)(U.a,{required:!0,id:"phone",label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",name:"phone",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",onChange:f,value:b.phone,fullWidth:!0,margin:"normal",size:"small",InputLabelProps:{shrink:!0}}),Object(y.jsx)(U.a,{id:"details",label:"\u0414\u0435\u0442\u0430\u043b\u0438",name:"descr",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0435\u0442\u0430\u043b\u0438 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f",onChange:f,value:b.descr,fullWidth:!0,margin:"normal",size:"small",multiline:!0,minRows:4,InputLabelProps:{shrink:!0}}),Object(y.jsxs)(w.a,{className:"guests-and-price",children:[Object(y.jsx)(U.a,{id:"guests",label:"\u041a\u043e\u043b\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0433\u043e\u0441\u0442\u0435\u0439",name:"guests",placeholder:"2",onChange:f,value:b.guests,margin:"normal",size:"small",InputLabelProps:{shrink:!0},type:"number"}),Object(y.jsx)(U.a,{required:!0,id:"price",label:"\u0426\u0435\u043d\u0430 \u0437\u0430 \u043d\u043e\u0447\u044c",name:"roomPrice",placeholder:"1300",onChange:f,value:b.roomPrice,type:"number",margin:"normal",size:"small",InputLabelProps:{shrink:!0}})]}),Object(y.jsx)(w.a,{className:"price-and-payment",children:Object(y.jsx)(F.a,{className:"prepayment-checkbox",control:Object(y.jsx)(q.a,{name:"paymentStatus",checked:null!==b.paymentStatus&&b.paymentStatus,onChange:f}),label:"\u041f\u0440\u0435\u0434\u043e\u043f\u043b\u0430\u0442\u0430"})}),Object(y.jsxs)(G.a,{className:"card-actions",children:[Object(y.jsx)(K.a,{variant:"text",onClick:function(){s(b._id),a(!1)},color:"error",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),Object(y.jsx)(K.a,{variant:"contained",onClick:function(){c(b),a(!1)},children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})]})})),we=Object(u.b)((function(e){return{reservations:d(e),range:j(e)}}),null)((function(e){var t=e.range,a=e.reservations,c=Object(n.useState)(!1),s=Object(i.a)(c,2),r=s[0],o=s[1],l=function(){return o(!1)},u=Object(n.useState)(null),d=Object(i.a)(u,2),j=d[0],b=d[1],m=a.filter((function(e){return I()(t.start).isBetween(I()(e.start),I()(e.end),void 0,"[)")}));return Object(y.jsxs)("div",{className:"reservations-for-date",children:[0!==m.length&&Object(y.jsx)(E.a,{variant:"h6",component:"h6",children:"\u0420\u0435\u0437\u0435\u0440\u0432\u0430\u0446\u0438\u0438"}),0!==m.length&&Object(y.jsx)(P.a,{className:"reservations-list",children:m.map((function(e,t){return Object(y.jsxs)(M.a,{className:"reservations-list-item",secondaryAction:Object(y.jsx)(Y.a,{edge:"end","aria-label":"edit",color:"primary",onClick:function(){return function(e){var t=a.filter((function(t){return t._id===e}));b(t),o(!0)}(e._id)},children:Object(y.jsx)(A.a,{children:"edit"})}),children:[Object(y.jsx)(T.a,{children:Object(y.jsx)(L.a,{children:Object(y.jsx)(A.a,{children:"person"})})}),Object(y.jsx)(z.a,{primary:e.title,secondary:"".concat(I()(e.start).format("DD.MM.YY")," - ").concat(I()(e.end).format("DD.MM.YY"))})]},t)}))}),Object(y.jsx)(H.a,{open:r,onClose:l,children:Object(y.jsxs)(w.a,{className:"modal-content",children:[Object(y.jsx)(Y.a,{className:"close","aria-label":"close",onClick:l,children:Object(y.jsx)(A.a,{children:"close"})}),Object(y.jsx)(Re,{editedReservation:j,setModalState:o})]})})]})})),Ce=function(e){return e.user.userData.userId},Ie=function(e){return e.user.userData.isAuthenticated},Ee=Object(u.b)((function(e){return{reservations:d(e),range:j(e),userId:Ce(e)}}),(function(e){return{addReservation:function(t){return e(be(t))}}}))((function(e){var t=e.addReservation,a=e.range,c=e.userId;I.a.tz.setDefault("UTC");var s=Object(l.h)().id,r={name:"",email:"",descr:"",phone:"",start:a.start,end:a.end,title:"",owner:c,roomType:s,roomPrice:D[s].price,paymentStatus:!1,guests:2,totalPrice:null,nightsCount:null,bookingDate:new Date,notAdmin:!1},o=Object(n.useState)(r),u=Object(i.a)(o,2),d=u[0],j=u[1],b=Object(n.useState)(!1),m=Object(i.a)(b,2),f=m[0],O=m[1];Object(n.useEffect)((function(){j(Object(B.a)(Object(B.a)({},d),{},{start:a.start,end:a.end}))}),[a]),Object(n.useEffect)((function(){j(Object(B.a)(Object(B.a)({},d),{},{nightsCount:I()(a.end).diff(I()(a.start),"days")}))}),[f]),Object(n.useEffect)((function(){j(Object(B.a)(Object(B.a)({},d),{},{totalPrice:d.nightsCount*d.roomPrice}))}),[d.nightsCount]),Object(n.useEffect)((function(){j(Object(B.a)(Object(B.a)({},d),{},{roomType:s,roomPrice:D[s].price}))}),[s]);var h=function(){return O(!1)},g=function(e){"name"===e.target.name?j(Object(B.a)(Object(B.a)({},d),{},{name:e.target.value,title:e.target.value})):j(Object(B.a)(Object(B.a)({},d),{},Object(W.a)({},e.target.name,e.target.value))),"paymentStatus"===e.target.name&&j(Object(B.a)(Object(B.a)({},d),{},{paymentStatus:e.target.checked}))};return Object(y.jsxs)("div",{className:"add-reservation-container",children:[Object(y.jsx)(E.a,{variant:"h6",component:"h6",sx:{marginBottom:"6px"},children:"\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0434\u0430\u0442\u044b"}),Object(y.jsx)(E.a,{variant:"p",component:"p",sx:{marginBottom:"20px"},className:"secondary-descr",children:"".concat(I()(a.start).format("DD.MM.YY")," - ").concat(I()(a.end).format("DD.MM.YY"))}),Object(y.jsx)(K.a,{fullWidth:!0,onClick:function(){O(!0)},variant:"contained",endIcon:Object(y.jsx)(A.a,{children:"add"}),children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0431\u0440\u043e\u043d\u044c"}),Object(y.jsx)(H.a,{open:f,onClose:h,children:Object(y.jsxs)(w.a,{className:"modal-content",children:[Object(y.jsx)(Y.a,{className:"close","aria-label":"close",onClick:h,children:Object(y.jsx)(A.a,{children:"close"})}),Object(y.jsxs)(E.a,{variant:"p",component:"p",className:"secondary-descr",sx:{marginBottom:"20px"},children:["\u041d\u0430 \u0434\u0430\u0442\u044b"," ","".concat(I()(a.start).format("DD.MM.YY")," - ").concat(I()(a.end).format("DD.MM.YY"))]}),Object(y.jsx)(w.a,{className:"reservation-edit-form",children:Object(y.jsxs)("form",{onSubmit:function(){t(d),O(!1),j(r)},children:[Object(y.jsx)(U.a,{required:!0,id:"name",label:"\u0418\u043c\u044f \u0433\u043e\u0441\u0442\u044f",name:"name",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0433\u043e\u0441\u0442\u044f",onChange:g,value:d.name,fullWidth:!0,margin:"normal",size:"small",InputLabelProps:{shrink:!0}}),Object(y.jsx)(U.a,{required:!0,id:"email",label:"Email",name:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u044d\u043c\u0435\u0439\u043b",onChange:g,value:d.email,type:"email",fullWidth:!0,margin:"normal",size:"small",InputLabelProps:{shrink:!0}}),Object(y.jsx)(U.a,{required:!0,id:"phone",label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",name:"phone",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",onChange:g,value:d.phone,fullWidth:!0,margin:"normal",size:"small",InputLabelProps:{shrink:!0}}),Object(y.jsx)(U.a,{id:"details",label:"\u0414\u0435\u0442\u0430\u043b\u0438",name:"descr",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0435\u0442\u0430\u043b\u0438 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f",onChange:g,value:d.descr,fullWidth:!0,margin:"normal",size:"small",multiline:!0,minRows:4,InputLabelProps:{shrink:!0}}),Object(y.jsxs)(w.a,{className:"guests-and-price",children:[Object(y.jsx)(U.a,{required:!0,id:"guests",label:"\u041a\u043e\u043b\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0433\u043e\u0441\u0442\u0435\u0439",name:"guests",placeholder:"2",onChange:g,value:d.guests,margin:"normal",size:"small",InputLabelProps:{shrink:!0},type:"number"}),Object(y.jsx)(U.a,{required:!0,id:"price",label:"\u0426\u0435\u043d\u0430 \u0437\u0430 \u043d\u043e\u0447\u044c",name:"roomPrice",placeholder:"1300",onChange:g,value:d.roomPrice,type:"number",margin:"normal",size:"small",InputLabelProps:{shrink:!0}})]}),Object(y.jsx)(w.a,{className:"price-and-payment",children:Object(y.jsx)(F.a,{className:"prepayment-checkbox",control:Object(y.jsx)(q.a,{name:"paymentStatus",onChange:g}),label:"\u041f\u0440\u0435\u0434\u043e\u043f\u043b\u0430\u0442\u0430"})}),Object(y.jsxs)(G.a,{className:"card-actions",children:[Object(y.jsx)("div",{}),Object(y.jsx)(K.a,{type:"submit",variant:"contained",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})]})})]})})]})})),Pe=a(81),Me=a(96),Ye=a(14);(Ye=a(325)).fn.meridiem=function(e){return e?("AM"===e.toUpperCase()&&this.hours()>=12?this.hours(this.hours()-12):"PM"===e.toUpperCase()&&this.hours()<=12&&this.hours(this.hours()+12),this):this.format("A")},Ye.fn.toJSON=function(){var e=this.clone().utc();return this.isValid()?e.format("YYYY-MM-DD[T]HH:mm:ss[Z]"):null};var Ae=Ye,Te=Ae.tz.guess(),Le=function(e,t){if(e<0||e>23)throw Error("*".concat(e,"* is an invalid 'hour' value, which must be between 0 and 23."));var a=t("1970-01-01");return new Date(a.hour(e).minute(0).format())},ze=function(e,t){return function(e,t){return new Date(t(e).format())}(e(),t)},He=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"start",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"end";return e.map((function(e){var n;return Object(B.a)(Object(B.a)({},e),{},(n={},Object(W.a)(n,t,new Date(e[t])),Object(W.a)(n,a,new Date(e[a])),n))}))},We=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"start",c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"end";return Object(n.useEffect)((function(){return t(He(e,a,c))}),[e,a,c])},Be=function(e){var t=e.message,a=e.status;return function(e){e(de.getData({message:t,status:a}))}},Ue=function(e){return function(t){t(de.setIsOpened(e))}},Fe=["userId","getReservations","reservations","setRange","range","reservationsState","timezone","now","events"];a(326);var qe={dateFormat:"DD",dayFormat:"ddd MM/DD/YYYY",monthHeaderFormat:"MMMM, YYYY",dayRangeHeaderFormat:function(e,t,a){var n=e.start,c=e.end;return"".concat(a.format(n,"ddd, MM/DD/YY",t)," - ").concat(a.format(c,"ddd, MM/DD/YY",t))},dayHeaderFormat:"dddd, MMMM DD, YYYY"},Ge=[Me.b.MONTH],Ke=Object(u.b)((function(e){return{reservations:d(e),userId:Ce(e),range:j(e),reservationsState:f(e)}}),(function(e){return{getReservations:function(t){return e(je(t))},setRange:function(t){return e(pe(t))},snackbarRun:function(t){return e(Be(t))},setIsOpened:function(t){return e(Ue(t))}}}))((function(e){var t=e.userId,a=e.getReservations,c=(e.reservations,e.setRange),s=e.range,r=e.reservationsState,o=(e.timezone,e.now),u=e.events,d=void 0===u?[]:u,j=(Object(Pe.a)(e,Fe),Object(n.useState)([])),b=Object(i.a)(j,2),m=b[0],f=b[1];We(d,f);var O=Object(Me.c)(I.a),h=Object(l.h)().id;Object(n.useEffect)((function(){a({userId:t,roomType:h,isAdmin:!0})}),[r,h,t,a]);var g=function(e){var t=e.start,a=e.end;I()().set({hour:0,minute:0,second:0,millisecond:0}).format();c({start:I()(t).set({hour:0,minute:0,second:0,millisecond:0}).format(),end:I()(a).set({hour:0,minute:0,second:0,millisecond:0}).format()})};return Object(y.jsx)("div",{className:"scheduler-container",children:Object(y.jsx)(Me.a,{style:{height:"700px"},localizer:O,formats:qe,events:m,views:Ge,defaultView:Me.b.MONTH,startAccessor:"start",endAccessor:"end",titleAccessor:"title",getNow:function(){return ze(o,I.a)},min:Le(7,I.a),max:Le(18,I.a),onSelectEvent:g,onSelectSlot:g,eventPropGetter:function(e){var t="#1976d2";return!1===e.paymentStatus&&(t="#eb0000"),{style:{backgroundColor:t}}},dayPropGetter:function(e){var t,a=I()().set({hour:0,minute:0,second:0,millisecond:0}).toDate();return e>a&&e!==a&&(t="white"),e<a&&(t="#e5e5e5"),I()(e).isBetween(I()(s.start),I()(s.end),void 0,"[)")&&(t="#eaf6ff"),{style:{backgroundColor:t}}},selectable:!0})})})),Je=Object(u.b)((function(e){return{reservations:d(e),range:j(e)}}),null)((function(e){var t=e.reservations,a=e.range;return Object(y.jsxs)(R.a,{children:[Object(y.jsxs)(w.a,{className:"calendar-top-block",children:[Object(y.jsx)("h1",{children:"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c"}),Object(y.jsx)(S,{})]}),Object(y.jsxs)("div",{className:"calendar-grid",children:[Object(y.jsx)(Ke,{timezone:Te,now:function(){return new Date},events:t}),Object(y.jsx)("div",{className:"calendar-sidebar",children:Object(y.jsx)("div",{className:"calendar-sidebar-content",children:null!==a&&a.start!==a.end&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(we,{}),Object(y.jsx)(Ee,{})]})})})]})]})})),Ve=(a(327),Object(u.b)((function(e){return{reservations:d(e),isAuthenticated:Ie(e)}}),null)((function(e){var t=e.reservations,a=e.isAuthenticated,c=Object(n.useState)(null),s=Object(i.a)(c,2),r=s[0],o=s[1];return Object(n.useEffect)((function(){if(a){var e=t.filter((function(e){return new Date(e.start)>=new Date((new Date).setHours(0,0,0,0))}));e.sort((function(e,t){return new Date(t.date)-new Date(e.date)})),o(e)}}),[t,a]),Object(y.jsx)(y.Fragment,{children:null!==r&&r.length>0&&Object(y.jsxs)("div",{className:"bookings-list",children:[Object(y.jsx)("div",{className:"booking-cards-title",children:Object(y.jsx)("h3",{children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"})}),Object(y.jsx)("div",{className:"booking-cards",children:r.map((function(e,t){return Object(y.jsxs)("div",{className:"booking-card",children:[Object(y.jsxs)("div",{className:"card-left",children:[Object(y.jsx)("div",{className:"name",children:e.name}),Object(y.jsx)("div",{className:"nigts-guests",children:"".concat(e.nightsCount," \u043d\u043e\u0447\u0435\u0439 - ").concat(e.guests," \u0433\u043e\u0441\u0442\u0435\u0439")}),Object(y.jsx)("div",{className:"room-type",children:D[e.roomType].adminCategory})]}),Object(y.jsx)("div",{className:"card-center",children:Object(y.jsx)("div",{className:"booking-dates",children:"".concat(I()(e.start).format("DD.MM.YY")," - ").concat(I()(e.end).format("DD.MM.YY"))})}),Object(y.jsxs)("div",{className:"card-right",children:[Object(y.jsxs)("div",{className:"total",children:["UAH ",e.totalPrice]}),Object(y.jsx)("div",{className:"book-date",children:I()(e.bookingDate).format("DD.MM.YY")})]})]},t)}))})]})})}))),Ze=Object(u.b)((function(e){return{userId:Ce(e),isAuthenticated:Ie(e)}}),(function(e){return{getReservations:function(t){return e(je(t))}}}))((function(e){var t=e.getReservations,a=e.userId,c=e.isAuthenticated;return Object(n.useEffect)((function(){c&&t({userId:a,isAdmin:!0})}),[c,t,a]),Object(y.jsxs)(R.a,{children:[Object(y.jsx)(w.a,{children:Object(y.jsx)("h1",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u043a\u043e\u043c\u043d\u0430\u0442\u044b"})}),Object(y.jsx)(S,{}),null!==a&&Object(y.jsx)(Ve,{})]})})),Qe={setIsAuthenticated:Object(Z.b)("auth/setIsAuthenticated"),setUserId:Object(Z.b)("auth/setUserId")},Xe=function(e){return function(t){t(Qe.setIsAuthenticated(e))}},$e=function(e){return function(t){t(Qe.setUserId(e))}},et="User data",tt=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(null),r=Object(i.a)(s,2),o=r[0],l=r[1],u=Object(n.useCallback)((function(e,t){c(e),l(t),localStorage.setItem(et,JSON.stringify({userId:t,token:e}))}),[]),d=Object(n.useCallback)((function(){c(null),l(null),localStorage.removeItem(et)}),[]);return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem(et));e&&e.token&&u(e.token,e.userId)}),[u]),{login:u,logout:d,token:a,userId:o}},at=(a(328),a(517)),nt=a(518),ct=a(519),st=Object(u.b)(null,(function(e){return{setIsAuthenticated:function(){return e(Xe(!0))},setUserId:function(t){return e($e(t))},snackbarRun:function(t){return e(Be(t))},setIsOpened:function(t){return e(Ue(t))}}}))((function(e){var t=e.setIsAuthenticated,a=e.setUserId,c=e.snackbarRun,s=e.setIsOpened,r=Object(n.useState)({email:"",password:""}),o=Object(i.a)(r,2),l=o[0],u=o[1],d=Object(n.useState)(!1),j=Object(i.a)(d,2),b=j[0],m=j[1],f=window.location.pathname,O=tt().login,h=function(e){u(Object(B.a)(Object(B.a)({},l),{},Object(W.a)({},e.target.name,e.target.value)))};return Object(y.jsx)(R.a,{children:Object(y.jsx)(w.a,{children:Object(y.jsxs)(at.a,{className:"auth-card",children:[Object(y.jsxs)("form",{onSubmit:function(e){e.preventDefault(),"/login"===f?(m(!0),V.a.post("/api/auth/login",Object(B.a)({},l)).then((function(e){O(e.data.token,e.data.userId),s(!0),c({message:e.data.message,status:"success"}),t(),a(e.data.userId)})).catch((function(e){m(!1),s(!0),c({message:e.message,status:"error"})}))):(m(!0),V.a.post("/api/auth/register",Object(B.a)({},l)).then((function(e){s(!0),c({message:e.data.message,status:"success"})})).catch((function(e){m(!1),s(!0),c({message:e.message,status:"error"})})))},children:[Object(y.jsxs)(nt.a,{className:"card-content",children:["/login"===f?Object(y.jsx)(E.a,{variant:"h4",component:"h4",gutterBottom:!0,children:"\u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"}):Object(y.jsx)(E.a,{variant:"h4",component:"h4",gutterBottom:!0,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(y.jsx)(U.a,{required:!0,id:"email",label:"Email",name:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email",onChange:h,value:l.email,fullWidth:!0,margin:"normal",size:"small"}),Object(y.jsx)(U.a,{required:!0,id:"password",label:"Password",name:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",onChange:h,value:l.password,type:"password",fullWidth:!0,margin:"normal",size:"small"})]}),Object(y.jsx)(G.a,{className:"card-actions",children:"/login"===f?Object(y.jsx)(K.a,{variant:"contained",type:"submit",children:"\u0412\u043e\u0439\u0442\u0438"}):Object(y.jsx)(K.a,{variant:"contained",type:"submit",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})})]}),b&&Object(y.jsx)("div",{className:"loader-container",children:Object(y.jsx)(ct.a,{})})]})})})})),rt=function(){return Object(y.jsx)(st,{})},it=function(){return Object(y.jsx)(st,{})},ot=(a(329),a(145)),lt=(a(330),a(331),a(41));a(332);lt.e.use([lt.c,lt.d,lt.b,lt.a]);var ut=Object(u.b)((function(e){return{guests:O(e)}}),null)((function(e){var t=e.roomType,a=e.amountAvailable,n=e.guests;return Object(y.jsxs)("div",{className:"room-list-item",children:[Object(y.jsx)("div",{className:"slider",children:Object(y.jsx)(ot.a,{spaceBetween:50,slidesPerView:1,cssMode:!0,navigation:!0,pagination:!0,mousewheel:!0,keyboard:!0,children:null!==t&&D[t].slider_photos.map((function(e,t){return Object(y.jsx)(ot.b,{children:Object(y.jsx)("img",{src:e})},t)}))})}),Object(y.jsxs)("div",{className:"room-item-content",children:[Object(y.jsx)("div",{className:"category",children:D[t].category}),Object(y.jsx)("div",{className:"name",children:D[t].name}),Object(y.jsx)("div",{className:"details",children:D[t].details}),Object(y.jsxs)("div",{className:"price-block",children:[Object(y.jsx)("div",{className:"available-rooms",children:"( \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e ".concat(a," )")}),Object(y.jsxs)("div",{className:"inner",children:[Object(y.jsxs)("b",{children:[n.adult+n.children>2?D[t].price+D[t].extra_cost:D[t].price," \u0433\u0440\u043d"]})," / \u043d\u0456\u0447"]})]})]}),Object(y.jsx)(o.b,{to:"/room/".concat(t),className:"see-more"})]})})),dt=(a(333),a.p+"static/media/lime-cat-sad.50e5cd00.png"),jt=Object(u.b)((function(e){return{bookingRange:m(e),availableRooms:h(e)}}),null)((function(e){var t=e.availableRooms,a=e.bookingRange,c=Object(n.useState)(null),s=Object(i.a)(c,2),r=s[0],o=s[1];Object(n.useEffect)((function(){o(t)}),[t]);var l=[];for(var u in r)0!==r[u]&&l.push({property:u,value:r[u]});return Object(y.jsx)(y.Fragment,{children:null!==t&&null!==a.to&&Object(y.jsx)("div",{className:"available-rooms-list",children:0!==l.length?l.map((function(e,t){return Object(y.jsx)("div",{className:"room-item-block",children:e.value>0&&Object(y.jsx)(ut,{roomType:e.property,amountAvailable:e.value})},t)})):Object(y.jsxs)("div",{className:"no-rooms",children:[Object(y.jsx)("img",{src:dt,width:"150"}),"\u041d\u0430 \u0436\u0430\u043b\u044c \u043d\u0430 \u0446\u0456 \u0434\u0430\u0442\u0438 \u043d\u0435\u043c\u0430\u0454 \u0432\u0456\u043b\u044c\u043d\u0438\u0445 \u043d\u043e\u043c\u0435\u0440\u0456\u0432"]})})})})),bt=(a(334),Object(u.b)((function(e){return{guests:O(e)}}),(function(e){return{setGuests:function(t){return e(ge(t))}}}))((function(e){var t=e.guests,a=e.setGuests,c=Object(l.h)().id,s=Object(n.useState)(!1),r=Object(i.a)(s,2),o=r[0],u=r[1],d=Object(n.useState)(!1),j=Object(i.a)(d,2),b=j[0],m=j[1],f=function(e){var n=e.target.getAttribute("name");a(Object(B.a)(Object(B.a)({},t),{},Object(W.a)({},n,t[n]+1)))},O=function(e){var n=e.target.getAttribute("name");"adult"===n&&1!==t.adult&&a(Object(B.a)(Object(B.a)({},t),{},Object(W.a)({},n,t[n]-1))),"children"===n&&t.children>0&&a(Object(B.a)(Object(B.a)({},t),{},Object(W.a)({},n,t[n]-1)))};return Object(n.useEffect)((function(){t.adult+t.children>3?u(!0):u(!1),t.adult+t.children>=2&&"standard"===c?m(!0):m(!1)}),[t]),Object(y.jsxs)("div",{className:"add-guests-counter",children:[Object(y.jsxs)(w.a,{className:"guests-counter-item",children:[Object(y.jsx)(E.a,{variant:"span",component:"span",className:"guests-label",children:"\u0414\u043e\u0440\u043e\u0441\u043b\u0438\u0445"}),Object(y.jsx)(Y.a,{className:"minus","aria-label":"minus",onClick:function(e){return O(e)},children:Object(y.jsx)(A.a,{name:"adult",children:"remove"})}),Object(y.jsx)("span",{className:"guests-value",children:t.adult}),Object(y.jsx)(Y.a,{className:"plus","aria-label":"plus",onClick:function(e){return f(e)},disabled:b,children:Object(y.jsx)(A.a,{name:"adult",children:"add"})})]}),Object(y.jsxs)(w.a,{className:"guests-counter-item",children:[Object(y.jsx)(E.a,{variant:"span",component:"span",className:"guests-label",children:"\u0414\u0456\u0442\u0435\u0439"}),Object(y.jsx)(Y.a,{className:"minus","aria-label":"minus",onClick:function(e){return O(e)},children:Object(y.jsx)(A.a,{name:"children",children:"remove"})}),Object(y.jsx)("span",{className:"guests-value",children:t.children}),Object(y.jsx)(Y.a,{className:"plus","aria-label":"plus",onClick:function(e){return f(e)},disabled:b,children:Object(y.jsx)(A.a,{name:"children",children:"add"})})]}),o&&Object(y.jsxs)("div",{className:"counter-disclaimer",children:["\u041f\u043b\u0430\u043d\u0443\u0454\u0442\u0435 \u043f\u043e\u0457\u0437\u0434\u043a\u0443 \u043d\u0430 \u0431\u0456\u043b\u044c\u0448\u0435 \u043d\u0456\u0436 3 \u0433\u043e\u0441\u0442\u0435\u0439, \u0432\u0430\u043c \u0431\u0443\u0434\u0443\u0442\u044c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0456 \u043c\u0456\u043d\u0456\u043c\u0443\u043c 2 \u043d\u043e\u043c\u0435\u0440\u0438. \u0417\u0432'\u044f\u0436\u0456\u0442\u044c\u0441\u044f \u0437 \u043d\u0430\u043c\u0438 \u0437\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043e\u043c:",Object(y.jsx)("br",{}),Object(y.jsx)("a",{href:"tel:+380971914806",className:"phone-link",children:"+38 (097) 191 48 06"})]})]})}))),mt="61aa52470f00a54463f6efa8",ft=(a(335),Object(u.b)((function(e){return{reservations:d(e),bookingRange:m(e),isAuthenticated:Ie(e),guests:O(e),datePickerState:g(e)}}),(function(e){return{getReservations:function(t){return e(je(t))},setBookingRange:function(t){return e(he(t))},setAvailableRooms:function(t){return e(ve(t))},setDatePickerState:function(t){return e(xe(t))}}}))((function(e){var t=e.reservations,a=e.getReservations,c=e.isAuthenticated,s=e.setBookingRange,r=e.bookingRange,o=e.setAvailableRooms,u=e.setDatePickerState,d=e.datePickerState,j=e.guests,b=Object(l.h)().id,m=Object(n.useState)({from:null,to:null}),f=Object(i.a)(m,2),O=f[0],h=f[1],g=Object(n.useState)(null),p=Object(i.a)(g,2),v=p[0],x=p[1],N=Object(n.useState)(null),k=Object(i.a)(N,2),_=k[0],S=k[1],R=Object(n.useState)(null),w=Object(i.a)(R,2),C=w[0],E=w[1],P=Object(n.useState)(0),M=Object(i.a)(P,2),Y=M[0],A=M[1],T={start:O.from,end:O.to};Object(n.useEffect)((function(){A(void 0!==b?D[b].amount:Object.keys(D).length)}),[c,a,b]),Object(n.useEffect)((function(){(d||-1!==window.location.href.indexOf("room"))&&a({userId:mt,isAdmin:!1,roomType:b||""})}),[d]),Object(n.useEffect)((function(){for(var e=[],a=function(a){t.filter((function(e){return t[a].start===e.start})).length>=Y&&e.push(new Date(t[a].start),{after:new Date(t[a].start),before:new Date(t[a].end)})},n=0;n<t.length;n++)a(n);e.push({before:new Date}),S(e),E(e)}),[t,Y]),Object(n.useEffect)((function(){null!==O.from&&E([{after:v,before:O.from}])}),[O,v]),Object(n.useEffect)((function(){if(null!==O.to){if(E(_),void 0===b){var e=t.filter((function(e){return I()(O.from).isBetween(I()(e.start),I()(e.end),void 0,"()")||I()(O.to).isBetween(I()(e.start),I()(e.end),void 0,"()")||I()(e.start).isBetween(I()(O.from),I()(O.to),void 0,"[)")}));console.log(e);var a=Object.entries(D).reduce((function(e,t){return Object(B.a)(Object(B.a)({},e),{},Object(W.a)({},t[0],t[1].amount))}),{});console.log(a);for(var n=0;n<e.length;n++)0!==a[e[n].roomType]&&(a[e[n].roomType]=a[e[n].roomType]-1);j.adult+j.children>2&&(a.standard=0),o(a)}s(O),u(!1)}null===O.to&&s({from:null,to:null})}),[O.to,j]),Object(n.useEffect)((function(){null!==r.from&&h(r)}),[r]);var L=function(){E(_)};return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(De.a,{mode:"range",locale:"ua",months:ye.MONTHS,weekdaysLong:ye.WEEKDAYS_LONG,weekdaysShort:ye.WEEKDAYS_SHORT,numberOfMonths:2,month:null!==r.to?r.from:new Date,fromMonth:new Date,disabledDays:null!==C?C:_,selectedDays:O,modifiers:T,onDayClick:function(e,t){var a=t.disabled;if(e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a)return L(),void h({from:null,to:null});if(h({from:null,to:null}),_e.DateUtils.isSameDay(e,O.from))L();else{for(var n=0;n<C.length;n++)C[n]>e&&x(C[n]);var c=_e.DateUtils.addDayToRange(e,O);null!==O.from&&null!==O.to||h(c)}}})})}))),Ot=Object(u.b)((function(e){return{bookingRange:m(e),guests:O(e),datePickerState:g(e)}}),(function(e){return{setDatePickerState:function(t){return e(xe(t))}}}))((function(e){var t=e.bookingRange,a=e.guests,c=e.datePickerState,s=e.setDatePickerState,r=Object(n.useRef)(),o=Object(n.useRef)(),l=Object(n.useState)(!1),u=Object(i.a)(l,2),d=u[0],j=u[1];return Object(n.useEffect)((function(){var e=function(e){r.current&&c&&!r.current.contains(e.target)&&(s(!1),j(!1)),o.current&&d&&!o.current.contains(e.target)&&(s(!1),j(!1))};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[c,d]),Object(y.jsx)("div",{className:"view-container",children:Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"booking-main-title",children:"\u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456\u0441\u0442\u044c \u043d\u043e\u043c\u0435\u0440\u0456\u0432"}),Object(y.jsxs)("div",{className:"booking-dates-line",children:[Object(y.jsx)("div",{className:"choose-dates-label",children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0430\u0442\u0438"}),Object(y.jsxs)("div",{className:"dates-container ".concat(c?"opened":""),ref:r,children:[Object(y.jsx)(K.a,{variant:null!==t.to?"contained":"outlined",className:"primary-btn",onClick:function(){return s((function(e){return!e}))},children:null!==t.from&&null!==t.to?"".concat(I()(t.from).format("DD.MM.YY")," - ").concat(I()(t.to).format("DD.MM.YY")):"\u0417\u0430\u0457\u0437\u0434 - \u0412\u0438\u0457\u0437\u0434"}),Object(y.jsxs)("div",{className:"dates-calendar",children:[Object(y.jsx)(ft,{}),Object(y.jsxs)("div",{className:"actions-block",children:[Object(y.jsx)(K.a,{variant:"text",color:"error",onClick:function(){return s(!1)},children:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438"}),Object(y.jsx)(K.a,{variant:"text",onClick:function(){return s(!1)},children:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438"})]})]})]}),Object(y.jsxs)("div",{className:"guests-container ".concat(d?"opened":""),ref:o,children:[Object(y.jsx)(K.a,{variant:"contained",className:"primary-btn",onClick:function(){return j((function(e){return!e}))},children:a.adult+a.children===1?"".concat(a.adult+a.children," \u0433\u043e\u0441\u0442\u044c"):"".concat(a.adult+a.children," \u0433\u043e\u0441\u0442\u0435\u0439")}),Object(y.jsxs)("div",{className:"guests-calendar",children:[Object(y.jsx)(bt,{}),Object(y.jsxs)("div",{className:"actions-block",children:[Object(y.jsx)(K.a,{variant:"text",color:"error",onClick:function(){return j(!1)},children:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438"}),Object(y.jsx)(K.a,{variant:"text",onClick:function(){return j(!1)},children:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438"})]})]})]})]}),Object(y.jsx)(jt,{})]})})})),ht=(a(336),function(){var e=Object(l.h)().id,t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],s=a[1],r=function(e){s(e)};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"gallery-container",onClick:function(){return r(!0)},children:[Object(y.jsx)("div",{className:"main-block",children:D[e].big_photos.map((function(e,t){if(0===t)return Object(y.jsx)("div",{className:"gallery-image",children:Object(y.jsx)("img",{src:e,width:"200"})},t)}))}),Object(y.jsx)("div",{className:"secondary-images-block",children:D[e].slider_photos.map((function(e,t){if(0!==t&&t<=4)return Object(y.jsx)("div",{className:"gallery-image",children:Object(y.jsx)("img",{src:e,width:"200"})},t)}))}),Object(y.jsx)("div",{className:"mobile-images-counter",children:"1 / ".concat(D[e].slider_photos.length)})]}),Object(y.jsxs)("div",{className:c?"overflow-gallery-modal opened":"overflow-gallery-modal",children:[Object(y.jsx)("div",{className:"header-actions",children:Object(y.jsx)(K.a,{className:"close-btn",variant:"text",onClick:function(){return r(!1)},startIcon:Object(y.jsx)(A.a,{children:"close"}),children:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438"})}),Object(y.jsx)("div",{className:"overflow-gallery-content",children:D[e].big_photos.map((function(e,t){return Object(y.jsx)("div",{className:"gallery-image",children:Object(y.jsx)("img",{src:e,width:"200"})},t)}))})]})]})}),gt=(a(337),Object(u.b)((function(e){return{bookingRange:m(e),nightsCount:p(e),guests:O(e),totalPrice:v(e),reservations:d(e),datePickerState:g(e)}}),(function(e){return{setNightsCount:function(t){return e(Ne(t))},setTotalPrice:function(t){return e(ke(t))},setDatePickerState:function(t){return e(xe(t))}}}))((function(e){var t=e.bookingRange,a=e.setNightsCount,c=e.nightsCount,s=e.guests,r=e.totalPrice,u=e.setTotalPrice,d=e.reservations,j=e.datePickerState,b=e.setDatePickerState,m=Object(l.h)().id,f=Object(n.useRef)(),O=Object(n.useState)(0),h=Object(i.a)(O,2),g=h[0],p=h[1],v=Object(n.useState)(""),x=Object(i.a)(v,2),N=x[0],k=x[1];return Object(n.useEffect)((function(){p(D[m].price)}),[m]),Object(n.useEffect)((function(){if(null!==t.to){var e=Math.round(Math.abs((t.from-t.to)/864e5));a(e)}}),[t.to]),Object(n.useEffect)((function(){null!==t.to&&(1===c?k("\u043d\u0456\u0447"):c>1&&c<5?k("\u043d\u043e\u0447\u0456"):c>=5&&k("\u043d\u043e\u0447\u0435\u0439"))}),[t,c]),Object(n.useEffect)((function(){if(s.adult+s.children>2){var e=g*c+D[m].extra_cost*c;u(e)}else{u(g*c)}}),[s,t,c,d]),Object(n.useEffect)((function(){var e=function(e){f.current&&j&&!f.current.contains(e.target)&&b(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[j]),Object(y.jsx)("div",{className:"subtotal-col",children:Object(y.jsxs)("div",{className:"preview-block",children:[Object(y.jsxs)("div",{className:"dates",onClick:function(){return b(!0)},children:[Object(y.jsxs)("div",{className:"arrival",children:[Object(y.jsx)("div",{className:"label",children:"\u0414\u0430\u0442\u0430 \u0437\u0430\u0457\u0437\u0434\u0443"}),Object(y.jsx)("div",{className:"value",children:null!==t.from?I()(t.from).format("DD.MM.YY"):"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0430\u0442\u0443"})]}),Object(y.jsxs)("div",{className:"arrival",children:[Object(y.jsx)("div",{className:"label",children:"\u0414\u0430\u0442\u0430 \u0432\u0438\u0457\u0437\u0434\u0443"}),Object(y.jsx)("div",{className:"value",children:null!==t.to?I()(t.to).format("DD.MM.YY"):"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0430\u0442\u0443"}),Object(y.jsx)("div",{className:"dates-container ".concat(j?"opened":""),ref:f,children:Object(y.jsxs)("div",{className:"dates-calendar",children:[Object(y.jsx)(ft,{}),Object(y.jsxs)("div",{className:"actions-block",children:[Object(y.jsx)(K.a,{variant:"text",color:"error",onClick:function(e){b(!1),e.stopPropagation()},children:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438"}),Object(y.jsx)(K.a,{variant:"text",onClick:function(e){b(!1),e.stopPropagation()},children:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438"})]})]})})]})]}),Object(y.jsx)(bt,{}),null!==t.to&&s.adult+s.children<=3&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"disclaimer",children:"\u041f\u043e\u043a\u0438 \u0449\u043e \u0432\u0438 \u043d\u0456 \u0437\u0430 \u0449\u043e \u043d\u0435 \u043f\u043b\u0430\u0442\u0438\u0442\u0435"}),Object(y.jsx)(o.b,{className:"checkout-btn",to:"/checkout/".concat(m,"/?checkin=").concat(I()(t.from).format("YYYY-MM-DD"),"&checkout=").concat(I()(t.to).format("YYYY-MM-DD"),"&guests=").concat(s.adult+s.children,"&nightsCount=").concat(c,"&totalPrice=").concat(r),children:"\u0417\u0430\u0431\u0440\u043e\u043d\u044e\u0432\u0430\u0442\u0438"}),Object(y.jsxs)("div",{className:"pricing-list",children:[Object(y.jsxs)("div",{className:"pricing-list-item",children:[Object(y.jsx)("div",{className:"subtotal",children:"UAH ".concat(g," x ").concat(c," ").concat(N)}),Object(y.jsx)("div",{className:"total",children:"UAH ".concat(g*c)})]}),s.adult+s.children>=3&&"standard"!==m&&Object(y.jsxs)("div",{className:"pricing-list-item",children:[Object(y.jsx)("div",{className:"subtotal",children:"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0435 \u043c\u0456\u0441\u0446\u0435 x ".concat(c," ").concat(N)}),Object(y.jsx)("div",{className:"total",children:"UAH ".concat(350*c)})]}),Object(y.jsxs)("div",{className:"pricing-list-item total-item",children:[Object(y.jsx)("div",{className:"subtotal",children:"\u0417\u0430\u0433\u0430\u043b\u043e\u043c"}),Object(y.jsx)("div",{className:"total",children:"UAH ".concat(r)})]})]})]})]})})}))),pt=(a(338),Object(u.b)((function(e){return{bookingRange:m(e),nightsCount:p(e)}}),null)((function(e){var t=e.bookingRange,a=e.nightsCount,c=Object(l.h)().id,s=Object(n.useState)("\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0430\u0442\u0438"),r=Object(i.a)(s,2),u=r[0],d=r[1],j=Object(n.useState)("\u0429\u043e\u0431 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0446\u0456\u043d\u0438, \u0432\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0430\u0442\u0438"),b=Object(i.a)(j,2),m=b[0],f=b[1];return Object(n.useEffect)((function(){null===t.from?d("\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0430\u0442\u0438"):null!==t.from&&null!==t.to&&(1===a?d("".concat(a," \u043d\u0456\u0447 \u0432 \u0410\u0433\u043e\u0440\u0430 \u0428\u0430\u043b\u0435")):a>1&&a<5?d("".concat(a," \u043d\u043e\u0447\u0456 \u0432 \u0410\u0433\u043e\u0440\u0430 \u0428\u0430\u043b\u0435")):a>=5&&d("".concat(a," \u043d\u043e\u0447\u0435\u0439 \u0432 \u0410\u0433\u043e\u0440\u0430 \u0428\u0430\u043b\u0435")))}),[t,a]),Object(n.useEffect)((function(){null===t.from?f("\u0429\u043e\u0431 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0446\u0456\u043d\u0438, \u0432\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0430\u0442\u0438"):null!==t.from&&null!==t.to&&f("".concat(I()(t.from).format("DD.MM.YY")," - ").concat(I()(t.to).format("DD.MM.YY")))}),[t]),Object(y.jsxs)("div",{className:"view-container",children:[Object(y.jsx)("div",{className:"back-to-header",children:Object(y.jsxs)(o.b,{to:"/",children:[Object(y.jsx)(A.a,{children:"keyboard_arrow_left"}),"\u041d\u0430\u0437\u0430\u0434"]})}),Object(y.jsxs)("div",{className:"room-details_title",children:[Object(y.jsx)("div",{className:"title",children:D[c].name}),Object(y.jsx)("div",{className:"descr",children:D[c].details})]}),Object(y.jsx)(ht,{}),Object(y.jsxs)("div",{className:"dates-and-subtotal-container",children:[Object(y.jsx)("div",{className:"main-container",children:Object(y.jsxs)("div",{className:"section",children:[Object(y.jsxs)("div",{className:"room-details_title",children:[Object(y.jsx)("div",{className:"secondary-title",children:u}),Object(y.jsx)("div",{className:"descr",children:m})]}),Object(y.jsx)(ft,{})]})}),Object(y.jsx)("div",{className:"subtotal-column",children:Object(y.jsx)(gt,{})})]})]})}))),vt=(a(339),Object(u.b)((function(e){return{reservations:d(e),range:j(e),userId:Ce(e)}}),(function(e){return{addReservation:function(t){return e(be(t))}}}))((function(){var e=Object(l.h)().id,t=Object(l.g)(),a=Object(o.c)(),c=Object(i.a)(a,2),s=c[0],r=(c[1],{from:I()(s.get("checkin")).set({hour:0,minute:0,second:0,millisecond:0}).format(),to:I()(s.get("checkout")).set({hour:0,minute:0,second:0,millisecond:0}).format()});return Object(n.useEffect)((function(){null!==s.get("checkin")&&null!==s.get("checkout")&&null!==s.get("guests")||t("/room/".concat(e))}),[s]),Object(y.jsxs)("div",{className:"section",children:[Object(y.jsx)("div",{className:"section-title",children:"\u0414\u0435\u0442\u0430\u043b\u0456 \u0431\u0440\u043e\u043d\u044e\u0432\u0430\u043d\u043d\u044f"}),Object(y.jsxs)("div",{className:"section-content",children:[Object(y.jsxs)("div",{className:"booking-details-top",children:[Object(y.jsx)("div",{className:"room-image",children:Object(y.jsx)("img",{src:D[e].slider_photos[0],width:"150"})}),Object(y.jsxs)("div",{className:"top-content",children:[Object(y.jsx)("div",{className:"category",children:D[e].category}),Object(y.jsx)("div",{className:"name",children:D[e].name})]})]}),Object(y.jsxs)("div",{className:"section-content__item",children:[Object(y.jsx)("div",{className:"item-subtitle",children:"\u0414\u0430\u0442\u0438"}),Object(y.jsx)("div",{className:"item-value",children:"".concat(I()(r.from).format("DD.MM.YY")," - ").concat(I()(r.to).format("DD.MM.YY"))})]}),Object(y.jsxs)("div",{className:"section-content__item",children:[Object(y.jsx)("div",{className:"item-subtitle",children:"\u0413\u043e\u0441\u0442\u0456"}),Object(y.jsx)("div",{className:"item-value",children:s.get("guests")})]}),Object(y.jsxs)("div",{className:"section-content__item",children:[Object(y.jsx)("div",{className:"item-subtitle",children:"\u0421\u0443\u043c\u043c\u0430 \u0431\u0440\u043e\u043d\u044e\u0432\u0430\u043d\u043d\u044f"}),Object(y.jsx)("div",{className:"item-value",children:"UAH ".concat(s.get("totalPrice"))})]})]})]})}))),xt=Object(u.b)((function(e){return{bookingRange:m(e),nightsCount:p(e),guests:O(e),totalPrice:v(e)}}),null)((function(){var e=Object(o.c)(),t=Object(i.a)(e,2),a=t[0],c=(t[1],Object(n.useState)(0)),s=Object(i.a)(c,2),r=s[0],l=s[1],u=Object(n.useState)(0),d=Object(i.a)(u,2),j=d[0],b=d[1];return Object(n.useEffect)((function(){l(parseInt(a.get("totalPrice"))/parseInt(a.get("nightsCount"))),b(parseInt(a.get("totalPrice"))-parseInt(a.get("totalPrice"))/parseInt(a.get("nightsCount")))}),[r]),Object(y.jsxs)("div",{className:"section",children:[Object(y.jsx)("div",{className:"section-title",children:"\u0414\u0435\u0442\u0430\u043b\u0456 \u043e\u043f\u043b\u0430\u0442\u0438"}),Object(y.jsxs)("div",{className:"section-content",children:[Object(y.jsxs)("div",{className:"section-content__item",children:[Object(y.jsx)("div",{className:"item-subtitle",children:"\u041f\u0435\u0440\u0435\u0434\u043f\u043b\u0430\u0442\u0430"}),Object(y.jsxs)("div",{className:"item-value",children:["\u0412\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u043e\u043f\u043b\u0430\u0442\u0438\u0442\u0438 \u043f\u0435\u0440\u0435\u0434\u043f\u043b\u0430\u0442\u0443 \u0437\u0430 1 \u043d\u0456\u0447 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u043d\u044f ","UAH ".concat(r),' \u043d\u0430\u0442\u0438\u0441\u043d\u0443\u0432\u0448\u0438 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 "\u0414\u043e \u043e\u043f\u043b\u0430\u0442\u0438".']})]}),0!==j&&Object(y.jsxs)("div",{className:"section-content__item",children:[Object(y.jsx)("div",{className:"item-subtitle",children:"\u0417\u0430\u043b\u0438\u0448\u043e\u043a \u043e\u043f\u043b\u0430\u0442\u0438"}),Object(y.jsxs)("div",{className:"item-value",children:["\u041f\u0456\u0441\u043b\u044f \u043f\u0435\u0440\u0435\u0434\u043f\u043b\u0430\u0442\u0438, \u0437\u0430\u043b\u0438\u0448\u043e\u043a ","UAH ".concat(j," "),"\u043c\u043e\u0436\u043d\u0430 \u0431\u0443\u0434\u0435 \u043e\u043f\u043b\u0430\u0442\u0438\u0442\u0438 \u0432 \u0433\u043e\u0442\u0435\u043b\u0456, \u0433\u043e\u0442\u0456\u0432\u043a\u043e\u044e \u0430\u0431\u043e \u043f\u0435\u0440\u0435\u043a\u0430\u0437\u043e\u043c \u043d\u0430 \u0440\u0430\u0445\u0443\u043d\u043e\u043a \u0447\u0438 \u043a\u0430\u0440\u0442\u043a\u0443."]})]})]})]})})),Nt=a(225),kt=Object(u.b)((function(e){return{reservations:d(e),isAuthenticated:Ie(e)}}),(function(e){return{addReservation:function(t){return e(be(t))},getReservations:function(t){return e(je(t))},snackbarRun:function(t){return e(Be(t))},setIsOpened:function(t){return e(Ue(t))},setBookingRange:function(t){return e(he(t))}}}))((function(e){var t=e.addReservation,a=e.getReservations,c=e.reservations,s=e.isAuthenticated,r=e.snackbarRun,u=e.setIsOpened,d=e.setBookingRange,j=Object(l.h)().id,b=Object(l.g)(),m=Object(o.c)(),f=Object(i.a)(m,2),O=f[0],h=(f[1],Object(n.useState)(0)),g=Object(i.a)(h,2),p=g[0],v=g[1],x=Object(n.useState)(null),N=Object(i.a)(x,2),k=N[0],_=N[1],S=Object(n.useState)(null),R=Object(i.a)(S,2),C=R[0],E=R[1],P=Object(n.useState)(null),M=Object(i.a)(P,2),Y=M[0],A=M[1],T=Object(n.useState)({merchantAccount:"booking_agora_chalet_com",merchantDomainName:"booking.agora-chalet.com",orderReference:"BK".concat(Date.now()),orderDate:Math.round(Date.now()),amount:"10",currency:"UAH",productName:"\u041f\u0435\u0440\u0435\u0434\u043f\u043b\u0430\u0442\u0430 \u0437\u0430 \u043d\u043e\u043c\u0435\u0440 ".concat(D[j].category),productCount:"1",productPrice:"10"}),L=Object(i.a)(T,2),z=L[0],H=L[1],F=Object(n.useState)(null),q=Object(i.a)(F,2),J=q[0],V=q[1],Z=Object(n.useState)(null),Q=Object(i.a)(Z,2),X=Q[0],$=Q[1],ee={from:new Date(O.get("checkin")),to:new Date(O.get("checkout"))};Object(n.useEffect)((function(){v(D[j].amount);var e=document.createElement("script");e.src="https://secure.wayforpay.com/server/pay-widget.js",document.body.appendChild(e)}),[]);var te=new window.Wayforpay;Object(n.useEffect)((function(){var e=c.filter((function(e){return I()(ee.from).isBetween(I()(e.start),I()(e.end),void 0,"[)")||I()(ee.to).isBetween(I()(e.start),I()(e.end),void 0,"(]")}));C&&null===Y&&(e.length>=p&&0!==p?_(!1):_(!0))}),[c]),Object(n.useEffect)((function(){null!==k&&(k?te.run(Object(B.a)({},J),(function(e){$("success")}),(function(e){$("declined")}),(function(e){$("success")})):A(!1))}),[k]),Object(n.useEffect)((function(){null!==X&&("success"===X&&(t(ce),A(!0),se({name:"",email:"",descr:"",phone:"",start:ee.from,end:ee.to,title:"",owner:mt,roomType:j,roomPrice:D[j].price,guests:O.get("guests"),paymentStatus:!1,bookingDate:new Date,isAdmin:!1}),E(null),A(null),d({from:null,to:null}),b("".concat(window.location.search,"&success=true"))),"declined"===X&&(E(null),A(null),_(null)))}),[X]),Object(n.useEffect)((function(){null!==k&&!1===Y&&(u(!0),r({message:"\u041d\u0430 \u0436\u0430\u043b\u044c \u0446\u0456 \u0434\u0430\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0435 \u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456",status:"error"}),b("/room/".concat(j)))}),[k,Y]);Object(n.useEffect)((function(){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"123456",a=Object(Nt.createHmac)("md5",t).update(e+"").digest("hex");V(Object(B.a)(Object(B.a)(Object(B.a)({},J),z),{},{merchantSignature:a,straightWidget:!0}))}(Object.keys(z).reduce((function(e,t){return Object.keys(z).indexOf(t)===Object.keys(z).length-1?e+z[t]:e+"".concat(z[t],";")}),""),"f60df24dc45f4bd87e7e989a3bb6f85f571aefdf")}),[z]),window.addEventListener("message",(function(e){"WfpWidgetEventClose"==e.data&&(H(Object(B.a)(Object(B.a)({},z),{},{orderReference:"BK".concat(Date.now())})),E(null),A(null),_(null))}),!1);var ae=Object(n.useState)({name:"",email:"",descr:"",phone:"",start:ee.from,end:ee.to,title:"",owner:mt,roomType:j,roomPrice:D[j].price,paymentStatus:!1,totalPrice:null,guests:O.get("guests"),nightsCount:null,bookingDate:new Date,notAdmin:!0}),ne=Object(i.a)(ae,2),ce=ne[0],se=ne[1];Object(n.useEffect)((function(){if(null!==ee.to){var e=Math.round(Math.abs((ee.from-ee.to)/864e5));se(Object(B.a)(Object(B.a)({},ce),{},{nightsCount:e,totalPrice:ce.nightsCount*ce.roomPrice}))}}),[ce.nightsCount]);var re=function(e){"name"===e.target.name?(se(Object(B.a)(Object(B.a)({},ce),{},{name:e.target.value,title:e.target.value})),V(Object(B.a)(Object(B.a)({},J),{},{clientFirstName:e.target.value,clientLastName:e.target.value}))):se(Object(B.a)(Object(B.a)({},ce),{},Object(W.a)({},e.target.name,e.target.value))),"paymentStatus"===e.target.name&&se(Object(B.a)(Object(B.a)({},ce),{},{paymentStatus:e.target.checked})),"email"===e.target.name&&V(Object(B.a)(Object(B.a)({},J),{},{clientEmail:e.target.value})),"phone"===e.target.name&&V(Object(B.a)(Object(B.a)({},J),{},{clientPhone:"38".concat(e.target.value),language:"UA"}))};return Object(y.jsxs)("div",{className:"section form",children:[Object(y.jsx)("div",{className:"section-title",children:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0448\u0456 \u0434\u0430\u043d\u043d\u0456"}),Object(y.jsx)("form",{onSubmit:function(e){e.preventDefault(),E(!0),s||a({userId:mt,isAdmin:!1,roomType:j})},children:Object(y.jsxs)(w.a,{className:"reservation-edit-form",children:[Object(y.jsx)(U.a,{required:!0,id:"name",label:"\u0406\u043c'\u044f",name:"name",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0448\u0435 \u0406\u043c'\u044f",onChange:re,value:ce.name,fullWidth:!0,margin:"normal",size:"small",InputLabelProps:{shrink:!0}}),Object(y.jsx)(U.a,{required:!0,id:"email",label:"Email",name:"email",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0448 email \u043d\u0430 \u044f\u043a\u0438\u0439 \u043e\u0442\u0440\u0438\u043c\u0430\u0435\u0442\u0435 \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043d\u044f",onChange:re,value:ce.email,type:"email",fullWidth:!0,margin:"normal",size:"small",InputLabelProps:{shrink:!0}}),Object(y.jsx)(U.a,{required:!0,id:"phone",label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",name:"phone",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u043e\u043c\u0435\u0440 \u0437\u0430 \u044f\u043a\u0438\u043c \u043c\u0438 \u0437\u043c\u043e\u0436\u0435\u043c\u043e \u0437 \u0432\u0430\u043c\u0438 \u0437\u0432'\u044f\u0437\u0430\u0442\u0438\u0441\u044c",onChange:re,value:ce.phone,fullWidth:!0,margin:"normal",size:"small",InputLabelProps:{shrink:!0}}),Object(y.jsx)(U.a,{id:"details",label:"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0430 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f",name:"descr",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0434\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0443 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e",onChange:re,value:ce.descr,fullWidth:!0,margin:"normal",size:"small",multiline:!0,minRows:4,InputLabelProps:{shrink:!0}}),Object(y.jsxs)(G.a,{className:"card-actions",children:[Object(y.jsx)("div",{}),Object(y.jsx)(K.a,{type:"submit",variant:"contained",children:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 \u0431\u0440\u043e\u043d\u044e\u0432\u0430\u043d\u043d\u044f"})]})]})})]})})),_t=(a(440),function(){var e=Object(o.c)(),t=Object(i.a)(e,2),a=t[0],c=(t[1],Object(n.useState)(0)),s=Object(i.a)(c,2),r=s[0],l=s[1];return Object(n.useEffect)((function(){l(parseInt(a.get("totalPrice"))/parseInt(a.get("nightsCount")))}),[r]),Object(y.jsx)("div",{className:"success-container",children:Object(y.jsxs)("div",{className:"success-inner-content",children:[Object(y.jsx)("div",{className:"success-image",children:Object(y.jsx)(A.a,{children:"check_circle"})}),Object(y.jsxs)("div",{className:"success-text",children:[Object(y.jsx)("div",{className:"title",children:"\u0414\u044f\u043a\u0443\u0454\u043c\u043e \u0449\u043e \u0437\u0430\u0431\u0440\u043e\u043d\u044e\u0432\u0430\u043b\u0438 \u043d\u043e\u043c\u0435\u0440 \u0432 \u043d\u0430\u0448\u043e\u043c\u0443 \u0448\u0430\u043b\u0435"}),Object(y.jsx)("div",{className:"descr",children:"\u0412\u0430\u0448\u0435 \u0431\u0440\u043e\u043d\u044e\u0432\u0430\u043d\u043d\u044f \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u0435. \u0414\u0435\u0442\u0430\u043b\u0456 \u0432\u0438 \u0437\u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u043d\u0430\u0439\u0442\u0438 \u0432 \u0435\u043c\u0435\u0439\u043b \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u0456. \u0427\u0435\u043a\u0430\u0454\u043c\u043e \u043d\u0430 \u0432\u0430\u0441 \u0432 \u0433\u043e\u0441\u0442\u0456 :)"})]}),Object(y.jsxs)("div",{className:"descr",children:["\u0412 \u0440\u0430\u0437\u0456 \u0434\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0438\u0445 \u043f\u0438\u0442\u0430\u043d\u044c, \u043d\u0430\u043c \u043c\u043e\u0436\u043d\u0430 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u0438 \u043d\u0430 ",Object(y.jsx)("a",{href:"mailto:agorahotel.in.ua@gmail.com",children:"agorahotel.in.ua@gmail.com"})," \u0430\u0431\u043e \u0437\u0430\u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443\u0432\u0430\u0442\u0438 \u0437\u0430 \u043d\u043e\u043c\u0435\u0440\u043e\u043c ",Object(y.jsx)("a",{href:"tel:+380971914806",class:"phone-link",children:"+38 (097) 191 48 06"})," "]}),Object(y.jsx)("div",{className:"next-booking",children:Object(y.jsx)(o.b,{to:"/",children:"\u0417\u0430\u0431\u0440\u043e\u043d\u044e\u0432\u0430\u0442\u0438 \u0449\u0435 \u043e\u0434\u0438\u043d \u043d\u043e\u043c\u0435\u0440"})})]})})}),Dt=function(){var e=Object(l.h)().id,t=Object(n.useState)(!0),a=Object(i.a)(t,2),c=a[0],s=a[1],r=Object(o.c)(),u=Object(i.a)(r,2),d=u[0];u[1];return Object(n.useEffect)((function(){null!==d.get("success")&&s(!1)}),[d]),Object(y.jsxs)("div",{className:"checkout-container",children:[c&&Object(y.jsx)("div",{className:"back-to-header",children:Object(y.jsxs)(o.b,{to:"/room/".concat(e),children:[Object(y.jsx)(A.a,{children:"keyboard_arrow_left"}),"\u041d\u0430\u0437\u0430\u0434"]})}),Object(y.jsx)("div",{className:"checkout-columns-container",children:Object(y.jsx)("div",{className:"checkout-col",children:c?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(vt,{}),Object(y.jsx)(xt,{}),Object(y.jsx)(kt,{})]}):Object(y.jsx)(_t,{})})})]})},yt=function(e){var t=Object(l.f)();return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[t]),Object(y.jsx)(y.Fragment,{children:e.children})},St=function(e){return e.isAuthenticated?Object(y.jsx)(c.a.Fragment,{children:Object(y.jsx)(yt,{children:Object(y.jsxs)(l.d,{children:[Object(y.jsx)(l.b,{path:"/calendar",exact:!0,element:Object(y.jsx)(Ze,{})}),Object(y.jsx)(l.b,{path:"/calendar/:id",exact:!0,element:Object(y.jsx)(Je,{})}),Object(y.jsx)(l.b,{path:"/login",element:Object(y.jsx)(l.a,{replace:!0,to:"/calendar"})}),Object(y.jsx)(l.b,{path:"/register",element:Object(y.jsx)(l.a,{replace:!0,to:"/calendar"})}),Object(y.jsx)(l.b,{path:"/booking/:id",element:Object(y.jsx)(l.a,{replace:!0,to:"/calendar/:id"})}),Object(y.jsx)(l.b,{path:"/",element:Object(y.jsx)(l.a,{replace:!0,to:"/calendar"})})]})})}):Object(y.jsx)(c.a.Fragment,{children:Object(y.jsx)(yt,{children:Object(y.jsxs)(l.d,{children:[Object(y.jsx)(l.b,{path:"/",element:Object(y.jsx)(Ot,{})}),Object(y.jsx)(l.b,{path:"/room/:id",element:Object(y.jsx)(pt,{})}),Object(y.jsx)(l.b,{path:"/checkout/:id",element:Object(y.jsx)(Dt,{})}),Object(y.jsx)(l.b,{path:"/login",exact:!0,element:Object(y.jsx)(rt,{})}),Object(y.jsx)(l.b,{path:"/register",exact:!0,element:Object(y.jsx)(it,{})}),Object(y.jsx)(l.b,{path:"/calendar/*",element:Object(y.jsx)(l.a,{replace:!0,to:"/"})})]})})})},Rt=(a(441),a(520)),wt=a(521),Ct=Object(u.b)(null,(function(e){return{setIsAuthenticated:function(t){return e(Xe(t))}}}))((function(e){var t=e.setIsAuthenticated,a=tt().logout;return Object(y.jsx)(w.a,{children:Object(y.jsx)(Rt.a,{position:"static",children:Object(y.jsxs)(wt.a,{children:[Object(y.jsx)(E.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:Object(y.jsx)(o.b,{to:"/calendar",className:"brand-logo",children:"Agora bookings"})}),Object(y.jsx)(K.a,{color:"inherit",onClick:function(){a(),t(!1)},children:"Logout"})]})})})})),It=a(498),Et=a(495),Pt=function(e){return e.snackbar.snackbarData.message},Mt=function(e){return e.snackbar.snackbarData.status},Yt=function(e){return e.snackbar.snackbarData.isOpened},At=Object(u.b)((function(e){return{isOpened:Yt(e),message:Pt(e),status:Mt(e)}}),(function(e){return{setIsOpened:function(t){return e(Ue(t))}}}))((function(e){var t=e.isOpened,a=e.message,n=e.status,c=e.setIsOpened,s=function(){c(!1)};return Object(y.jsx)(It.a,{open:t,autoHideDuration:6e3,onClose:s,message:a,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(y.jsx)(Et.a,{onClose:s,severity:n,sx:{width:"100%"},children:a})})}));var Tt,Lt,zt,Ht=Object(u.b)((function(e){return{isAuthenticated:Ie(e)}}),(function(e){return{setIsAuthenticated:function(){return e(Xe(!0))},setUserId:function(t){return e($e(t))}}}))((function(e){var t,a=e.isAuthenticated,s=e.setIsAuthenticated,r=e.setUserId,l=tt(),u=l.token,d=l.userId,j=Object(n.useState)(),b=Object(i.a)(j,2),m=b[0],f=b[1];function O(e){f("got post message"),"https://agora-chalet.com"===e.origin?(t=e,h()):f("wrong origin")}function h(){void 0!=t&&(f("sent to parent"),t.source.postMessage(JSON.stringify({event:"resize",height:document.documentElement.offsetHeight}),t.origin))}return Object(n.useEffect)((function(){u&&null!==d&&(s(),r(d))}),[u,s,d,r]),Object(n.useEffect)((function(){window.addEventListener("message",O,!1)}),[]),new ResizeObserver((function(e){return h()})).observe(document.documentElement),Object(y.jsxs)(c.a.Fragment,{children:[Object(y.jsxs)(o.a,{children:[a&&Object(y.jsx)(Ct,{}),m,Object(y.jsx)(St,{isAuthenticated:a})]}),Object(y.jsx)(At,{})]})})),Wt=a(20),Bt=a(49),Ut=Object(Z.c)({isAuthenticated:!1,userId:null},(Tt={},Object(W.a)(Tt,Qe.setIsAuthenticated,(function(e,t){var a=t.payload;return Object(B.a)(Object(B.a)({},e),{},{isAuthenticated:a})})),Object(W.a)(Tt,Qe.setUserId,(function(e,t){var a=t.payload;return Object(B.a)(Object(B.a)({},e),{},{userId:a})})),Tt)),Ft=Object(Bt.b)({userData:Ut}),qt=Object(Z.c)({reservations:[],disabledDates:[],range:{start:null,end:null},reservationsState:0,editedRange:{from:null,to:null},bookingRange:{from:null,to:null},guests:{adult:2,children:0},availableRooms:null,datePickerState:!1,nightsCount:0,totalPrice:0},(Lt={},Object(W.a)(Lt,ue.getReservations,(function(e,t){var a=t.payload;return Object(B.a)(Object(B.a)({},e),{},{reservations:a})})),Object(W.a)(Lt,ue.getDisabledDates,(function(e,t){var a=t.payload;return Object(B.a)(Object(B.a)({},e),{},{disabledDates:a})})),Object(W.a)(Lt,ue.addReservation,(function(e,t){var a=t.payload;return Object(B.a)(Object(B.a)({},e),{},{reservations:[].concat(Object(Wt.a)(e.reservations),[a])})})),Object(W.a)(Lt,ue.deleteReservation,(function(e,t){var a=t.payload;return Object(B.a)(Object(B.a)({},e),{},{reservations:e.reservations.filter((function(e){return e._id!==a}))})})),Object(W.a)(Lt,ue.updateReservation,(function(e,t){var a=t.payload;return Object(B.a)(Object(B.a)({},e),{},{reservations:Object(Wt.a)(e.reservations.map((function(e){return e._id===a._id?a:e})))})})),Object(W.a)(Lt,ue.updateReservationsCount,(function(e,t){var a=t.payload;return Object(B.a)(Object(B.a)({},e),{},{reservationsState:a+1})})),Object(W.a)(Lt,ue.setRange,(function(e,t){var a=t.payload;return Object(B.a)(Object(B.a)({},e),{},{range:a})})),Object(W.a)(Lt,ue.setEditedRange,(function(e,t){var a=t.payload;return Object(B.a)(Object(B.a)({},e),{},{editedRange:a})})),Object(W.a)(Lt,ue.setBookingRange,(function(e,t){var a=t.payload;return Object(B.a)(Object(B.a)({},e),{},{bookingRange:a})})),Object(W.a)(Lt,ue.setGuests,(function(e,t){var a=t.payload;return Object(B.a)(Object(B.a)({},e),{},{guests:a})})),Object(W.a)(Lt,ue.setAvailableRooms,(function(e,t){var a=t.payload;return Object(B.a)(Object(B.a)({},e),{},{availableRooms:a})})),Object(W.a)(Lt,ue.setDatePickerState,(function(e,t){var a=t.payload;return Object(B.a)(Object(B.a)({},e),{},{datePickerState:a})})),Object(W.a)(Lt,ue.setNightsCount,(function(e,t){var a=t.payload;return Object(B.a)(Object(B.a)({},e),{},{nightsCount:a})})),Object(W.a)(Lt,ue.setTotalPrice,(function(e,t){var a=t.payload;return Object(B.a)(Object(B.a)({},e),{},{totalPrice:a})})),Lt)),Gt=Object(Bt.b)({calendarData:qt}),Kt=Object(Z.c)({message:"",status:"success",isOpened:!1},(zt={},Object(W.a)(zt,de.getData,(function(e,t){var a=t.payload;return Object(B.a)(Object(B.a)({},e),{},{message:a.message,status:a.status})})),Object(W.a)(zt,de.setIsOpened,(function(e,t){var a=t.payload;return Object(B.a)(Object(B.a)({},e),{},{isOpened:a})})),zt)),Jt=Object(Bt.b)({snackbarData:Kt}),Vt=Object(Z.a)({reducer:{user:Ft,calendar:Gt,snackbar:Jt},middleware:Object(Wt.a)(Object(Z.d)({serializableCheck:!1})),devTools:!1});r.a.render(Object(y.jsx)(u.a,{store:Vt,children:Object(y.jsx)(Ht,{})}),document.getElementById("root"))}},[[442,1,2]]]);
//# sourceMappingURL=main.f3e18c87.chunk.js.map