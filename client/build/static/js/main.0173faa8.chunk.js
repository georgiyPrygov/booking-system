(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{130:function(e,t,a){},157:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/standard-one.3e8ef859.jpeg"},162:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/standard-two.4035dbf0.jpeg"},163:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/standard-three.2682eb5c.jpeg"},164:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/standard-four.734f97b0.jpeg"},165:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/standard-five.043a6b5e.jpeg"},166:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/luxe-one.5d2d5390.jpeg"},167:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/luxe-two.2f0d61bc.jpeg"},168:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/luxe-four.84add8ba.jpeg"},169:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/luxe-six.939ad6fb.jpeg"},170:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/luxe-seven.c04a8e3e.jpeg"},171:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe-one.5591e83e.jpeg"},172:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe-two.2b721e04.jpeg"},173:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe-three.9ca91c3f.jpeg"},174:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe-four.36c2896a.jpeg"},175:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe-six.c4d8a580.jpeg"},176:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe-seven.efe8ea47.jpeg"},177:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe-nine.17a0f963.jpeg"},178:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/deluxe-ten.2c5bd61a.jpeg"},180:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},192:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(20),r=a.n(s),i=(a(130),a(21)),l=a(14),o=a(82),u=a(16),d=a.n(u),j=(a(135),a(17)),b=function(e){return e.user.userData.userId},m=function(e){return e.user.userData.isAuthenticated},O=a(10),f=a(51),h=a.n(f),g=a(19),v=Object(g.b)("calendar/getReservations"),x=Object(g.b)("calendar/getDisabledDates"),p=Object(g.b)("calendar/addReservation"),N=Object(g.b)("calendar/deleteReservation"),k=Object(g.b)("calendar/updateReservation"),D=Object(g.b)("calendar/updateReservationsCount"),y=Object(g.b)("calendar/setEditedRange"),R=Object(g.b)("calendar/setBookingRange"),S=Object(g.b)("calendar/setGuests"),w=Object(g.b)("calendar/setAvailableRooms"),I=Object(g.b)("calendar/setDatePickerState"),C=Object(g.b)("calendar/setNightsCount"),P=Object(g.b)("calendar/setTotalPrice"),E={getReservations:v,getDisabledDates:x,addReservation:p,deleteReservation:N,updateReservation:k,updateReservationsCount:D,setEditedRange:y,setBookingRange:R,setGuests:S,setRange:Object(g.b)("calendar/setRange"),setAvailableRooms:w,setDatePickerState:I,setNightsCount:C,setTotalPrice:P},A={getData:Object(g.b)("snackbar/getData"),setIsOpened:Object(g.b)("snackbar/setIsOpened")},M=function(e){var t=e.userId,a=e.roomType,n=e.isAdmin;return function(e){h.a.get("/api/reservations",{params:{userId:t,roomType:a,isAdmin:n}}).then((function(t){e(E.getReservations(t.data))})).catch((function(t){e(A.getData({message:t.message,status:"error"})),e(A.setIsOpened(!0))}))}},Y=function(e){return function(t){h.a.post("/api/reservations",Object(O.a)({},e)).then((function(a){t(E.addReservation(e)),t(E.updateReservationsCount(1)),t(A.getData({message:a.data.message,status:"success"})),t(A.setIsOpened(!0))})).catch((function(e){t(A.getData({message:e.message,status:"error"})),t(A.setIsOpened(!0))}))}},_=function(e){return function(t){h.a.delete("/api/reservations",{params:{id:e}}).then((function(a){t(E.deleteReservation(e)),t(E.updateReservationsCount(!1)),t(A.getData({message:a.data.message,status:"success"})),t(A.setIsOpened(!0))})).catch((function(e){t(A.getData({message:e.message,status:"error"})),t(A.setIsOpened(!0))}))}},T=function(e){return function(t){h.a.patch("/api/reservations",Object(O.a)({},e)).then((function(e){t(E.updateReservation(e.data)),t(A.getData({message:"\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043e",status:"success"})),t(A.setIsOpened(!0))})).catch((function(e){t(A.getData({message:e.message,status:"error"})),t(A.setIsOpened(!0))}))}},L=function(e){return function(t){t(E.setEditedRange(e))}},W=function(e){return function(t){t(E.setBookingRange(e))}},z=function(e){return function(t){t(E.setGuests(e))}},B=function(e){var t=e.start,a=e.end;return function(e){e(E.setRange({start:t,end:a}))}},H=function(e){return function(t){t(E.setAvailableRooms(e))}},U=function(e){return function(t){t(E.setDatePickerState(e))}},q=function(e){return function(t){t(E.setNightsCount(e))}},F=function(e){return function(t){t(E.setTotalPrice(e))}},G=function(e){return e.calendar.calendarData.reservations},K=function(e){return e.calendar.calendarData.range},J=function(e){return e.calendar.calendarData.editedRange},V=function(e){return e.calendar.calendarData.bookingRange},Q=function(e){return e.calendar.calendarData.reservationsState},X=function(e){return e.calendar.calendarData.guests},Z=function(e){return e.calendar.calendarData.availableRooms},$=function(e){return e.calendar.calendarData.datePickerState},ee=function(e){return e.calendar.calendarData.nightsCount},te=function(e){return e.calendar.calendarData.totalPrice},ae=a(6),ne=a(258),ce=a(252),se=a(244),re=a(253),ie=(a(157),a(1)),le=function(){var e=Object(l.g)(),t=Object(l.h)().id,a=Object(n.useState)("/calendar/".concat(t)),c=Object(ae.a)(a,2),s=c[0],r=c[1];return Object(ie.jsxs)(ne.a,{fullWidth:!0,className:"room-select-container",children:[Object(ie.jsx)(ce.a,{id:"room-select-label",children:"\u0422\u0438\u043f \u043a\u043e\u043c\u043d\u0430\u0442\u044b"}),Object(ie.jsxs)(se.a,{labelId:"room-select-label",id:"room-type-select",value:void 0!==t?s:"",label:"\u0422\u0438\u043f \u043a\u043e\u043c\u043d\u0430\u0442\u044b",onChange:function(t){r(t.target.value),e(t.target.value)},children:[Object(ie.jsx)(re.a,{value:"/calendar/standard",children:"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442"}),Object(ie.jsx)(re.a,{value:"/calendar/luxe",children:"\u041b\u044e\u043a\u0441"}),Object(ie.jsx)(re.a,{value:"/calendar/deluxe",children:"\u0414\u0435\u043b\u044e\u043a\u0441"})]})]})},oe=a(269),ue=a(263),de=(a(159),function(e){var t=e.message,a=e.status;return function(e){e(A.getData({message:t,status:a}))}}),je=function(e){return function(t){t(A.setIsOpened(e))}},be=a(83),me=a(260),Oe=a(250),fe=a(266),he=a(267),ge=a(268),ve=a(257),xe=a(243),pe=a(245),Ne=a(3),ke=a(249),De=a(264),ye=a(247),Re=a(265),Se=a(256),we=(a(73),a(56)),Ie=a.n(we),Ce=(a(160),{MONTHS:["\u0421\u0456\u0447\u0435\u043d\u044c","\u041b\u044e\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c","\u041a\u0432\u0456\u0442\u0435\u043d\u044c","\u0422\u0440\u0430\u0432\u0435\u043d\u044c","\u0427\u0435\u0440\u0432\u0435\u043d\u044c","\u041b\u0438\u043f\u0435\u043d\u044c","\u0421\u0435\u0440\u043f\u0435\u043d\u044c","\u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c","\u0416\u043e\u0432\u0442\u0435\u043d\u044c","\u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043d\u044c"],WEEKDAYS_LONG:["\u041f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a","\u0412\u0456\u0432\u0442\u043e\u0440\u043e\u043a","\u0421\u0435\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440","\u041f'\u044f\u0442\u043d\u0438\u0446\u044f","\u0421\u0443\u0431\u043e\u0442\u0430","\u041d\u0435\u0434\u0456\u043b\u044f"],WEEKDAYS_SHORT:["\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431","\u041d\u0434"]}),Pe=Object(j.b)((function(e){return{reservations:G(e)}}),(function(e){return{setEditedRange:function(t){return e(L(t))}}}))((function(e){var t=e.reservations,a=e.setEditedRange,c=e.editedReservation,s={from:null,to:null},r=Object(n.useState)(s),i=Object(ae.a)(r,2),o=i[0],u=i[1],d=Object(n.useState)(null),j=Object(ae.a)(d,2),b=j[0],m=j[1],O=Object(n.useState)(null),f=Object(ae.a)(O,2),h=f[0],g=f[1],v=Object(n.useState)(null),x=Object(ae.a)(v,2),p=x[0],N=x[1],k=Object(n.useState)(0),D=Object(ae.a)(k,2),y=D[0],R=D[1],S=Object(n.useState)(!1),w=Object(ae.a)(S,2),I=w[0],C=w[1],P={start:o.from,end:o.to},E=Object(l.h)().id;Object(n.useEffect)((function(){switch(E){case"standard":R(1);break;case"luxe":R(2);break;case"deluxe":R(3)}}),[E]),Object(n.useEffect)((function(){if(0!==t.length){var e=[];e.push({before:new Date});for(var a=function(a){t.filter((function(e){return e.start===t[a].start&&e.start!==c[0].start})).length>=y&&e.push(new Date(t[a].start),{after:new Date(t[a].start),before:new Date(t[a].end)})},n=0;n<t.length;n++)a(n);g(e),N(e)}}),[t,y]),Object(n.useEffect)((function(){o.from&&N([{after:b,before:o.from}])}),[o,b]),Object(n.useEffect)((function(){N(h),a(o)}),[o.to]),Object(n.useEffect)((function(){C(!0)}),[p]);var A=function(){N(h)};return Object(ie.jsx)("div",{className:"row",children:I?Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Ie.a,{mode:"range",numberOfMonths:2,months:Ce.MONTHS,weekdaysLong:Ce.WEEKDAYS_LONG,weekdaysShort:Ce.WEEKDAYS_SHORT,fromMonth:new Date,disabledDays:null!==p?p:h,selectedDays:o,modifiers:P,onDayClick:function(e,t){var a=t.disabled;if(e.setHours(0,0,0,0),a)A();else{u(s);for(var n=0;n<p.length;n++)p[n]>e&&m(p[n]);var c=we.DateUtils.addDayToRange(e,o);null!==o.from&&null!==o.to||u(c)}}})}):Object(ie.jsx)("div",{children:"Loading..."})})})),Ee={standard:{amount:1,price:1100,category:"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442",name:"\u0414\u0432\u043e\u0445\u043c\u0456\u0441\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u0437 \u0432\u0438\u0434\u043e\u043c \u043d\u0430 \u0433\u043e\u0440\u0438",details:"\u043c\u0430\u043a\u0441. 2 \u0433\u043e\u0441\u0442\u044f \xb7 1 \u0441\u043f\u0430\u043b\u044c\u043d\u044f \xb7 1 \u0434\u0432\u0443\u0445\u0441\u043f\u0430\u043b\u044c\u043d\u0435 \u043b\u0456\u0436\u043a\u043e \xb7 1 \u0441\u0430\u043d\u0432\u0443\u0437\u043e\u043b \xb7 Wi-Fi \xb7 \u0432\u0438\u0445\u0456\u0434 \u043d\u0430 \u0442\u0435\u0440\u0430\u0441\u0441\u0443 \xb7 \u0432\u0438\u0434 \u043d\u0430 \u0433\u043e\u0440\u0438",slider_photos:[a(161).default,a(162).default,a(163).default,a(164).default,a(165).default],extra_cost:0},luxe:{amount:2,price:1300,category:"\u041b\u044e\u043a\u0441",name:"\u0414\u0432\u043e\u0445\u043c\u0456\u0441\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u0437 \u0432\u0438\u0434\u043e\u043c \u043d\u0430 \u0433\u043e\u0440\u0438",details:"2-3 \u0433\u043e\u0441\u0442\u044f \xb7 1 \u0441\u043f\u0430\u043b\u044c\u043d\u044f \xb7 1 \u0434\u0432\u043e\u0441\u043f\u0430\u043b\u044c\u043d\u0435 \u043b\u0456\u0436\u043a\u043e \xb7 1 \u0441\u0430\u043d\u0432\u0443\u0437\u043e\u043b \xb7 \u0432\u0438\u0445\u0456\u0434 \u043d\u0430 \u0442\u0435\u0440\u0430\u0441\u0441\u0443 \xb7 \u0432\u0438\u0434 \u043d\u0430 \u0433\u043e\u0440\u0438",slider_photos:[a(166).default,a(167).default,a(168).default,a(169).default,a(170).default],extra_cost:350},deluxe:{amount:3,price:1500,category:"\u0414\u0435\u043b\u044e\u043a\u0441",name:"\u0414\u0432\u043e\u0445\u043c\u0456\u0441\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440  \u043d\u0430 \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u043f\u043e\u0432\u0435\u0440\u0441\u0456 \u0437 \u0432\u0438\u0434\u043e\u043c \u043d\u0430 \u0433\u043e\u0440\u0438",details:"2-3 \u0433\u043e\u0441\u0442\u044f \xb7 1 \u0441\u043f\u0430\u043b\u044c\u043d\u044f \xb7 1 \u0434\u0432\u043e\u0441\u043f\u0430\u043b\u044c\u043d\u0435 \u043b\u0456\u0436\u043a\u043e \xb7 1 \u0441\u0430\u043d\u0432\u0443\u0437\u043e\u043b \xb7 \u0432\u0438\u0445\u0456\u0434 \u043d\u0430 \u0442\u0435\u0440\u0430\u0441\u0441\u0443 \xb7 \u0432\u0438\u0434 \u043d\u0430 \u0433\u043e\u0440\u0438",slider_photos:[a(171).default,a(172).default,a(173).default,a(174).default,a(175).default,a(176).default,a(177).default,a(178).default],extra_cost:350}},Ae=Object(j.b)((function(e){return{reservations:G(e),editedRange:J(e)}}),(function(e){return{updateReservation:function(t){return e(T(t))},deleteReservation:function(t){return e(_(t))}}}))((function(e){var t=e.editedReservation,a=e.setModalState,c=e.updateReservation,s=e.deleteReservation,r=e.editedRange,i=Object(l.h)().id,o={name:"",email:"",descr:"",phone:"",start:null,end:null,title:"",roomType:i,roomPrice:Ee[i].price,paymentStatus:!1,guests:2,totalPrice:null,nightsCount:null,bookingDate:null},u=Object(n.useState)(o),d=Object(ae.a)(u,2),j=d[0],b=d[1];Object(n.useEffect)((function(){b(t[0]),""!==j.name&&b(Object(O.a)(Object(O.a)({},j),{},{start:r.from,end:r.to}))}),[t,r]);var m=function(e){"name"===e.target.name?b(Object(O.a)(Object(O.a)({},j),{},{name:e.target.value,title:e.target.value})):b(Object(O.a)(Object(O.a)({},j),{},Object(Ne.a)({},e.target.name,e.target.value)))};return Object(ie.jsxs)(ue.a,{className:"reservation-edit-form",children:[Object(ie.jsx)(be.a,{variant:"h5",component:"h5",sx:{marginBottom:"20px"},children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0440\u0435\u0437\u0435\u0440\u0432\u0430\u0446\u0438\u0438"}),Object(ie.jsx)(Pe,{editedReservation:t}),Object(ie.jsx)(ke.a,{required:!0,id:"name",label:"\u0418\u043c\u044f \u0433\u043e\u0441\u0442\u044f",name:"name",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0433\u043e\u0441\u0442\u044f",onChange:m,value:j.name,fullWidth:!0,margin:"normal",size:"small",InputLabelProps:{shrink:!0}}),Object(ie.jsx)(ke.a,{required:!0,id:"email",label:"Email",name:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u044d\u043c\u0435\u0439\u043b",onChange:m,value:j.email,type:"email",fullWidth:!0,margin:"normal",size:"small",InputLabelProps:{shrink:!0}}),Object(ie.jsx)(ke.a,{required:!0,id:"phone",label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",name:"phone",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",onChange:m,value:j.phone,fullWidth:!0,margin:"normal",size:"small",InputLabelProps:{shrink:!0}}),Object(ie.jsx)(ke.a,{id:"details",label:"\u0414\u0435\u0442\u0430\u043b\u0438",name:"descr",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0435\u0442\u0430\u043b\u0438 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f",onChange:m,value:j.descr,fullWidth:!0,margin:"normal",size:"small",multiline:!0,minRows:4,InputLabelProps:{shrink:!0}}),Object(ie.jsxs)(ue.a,{className:"guests-and-price",children:[Object(ie.jsx)(ke.a,{id:"guests",label:"\u041a\u043e\u043b\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0433\u043e\u0441\u0442\u0435\u0439",name:"guests",placeholder:"2",onChange:m,value:j.guests,margin:"normal",size:"small",InputLabelProps:{shrink:!0},type:"number"}),Object(ie.jsx)(ke.a,{required:!0,id:"price",label:"\u0426\u0435\u043d\u0430 \u0437\u0430 \u043d\u043e\u0447\u044c",name:"roomPrice",placeholder:"1300",onChange:m,value:j.roomPrice,type:"number",margin:"normal",size:"small",InputLabelProps:{shrink:!0}})]}),Object(ie.jsx)(ue.a,{className:"price-and-payment",children:Object(ie.jsx)(De.a,{className:"prepayment-checkbox",control:Object(ie.jsx)(ye.a,{name:"paymentStatus",checked:null!==j.paymentStatus&&j.paymentStatus,onChange:m}),label:"\u041f\u0440\u0435\u0434\u043e\u043f\u043b\u0430\u0442\u0430"})}),Object(ie.jsxs)(Re.a,{className:"card-actions",children:[Object(ie.jsx)(Se.a,{variant:"text",onClick:function(){s(j._id),a(!1)},color:"error",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),Object(ie.jsx)(Se.a,{variant:"contained",onClick:function(){c(j),a(!1)},children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})]})})),Me=Object(j.b)((function(e){return{reservations:G(e),range:K(e)}}),null)((function(e){var t=e.range,a=e.reservations,c=Object(n.useState)(!1),s=Object(ae.a)(c,2),r=s[0],i=s[1],l=function(){return i(!1)},o=Object(n.useState)(null),u=Object(ae.a)(o,2),j=u[0],b=u[1],m=a.filter((function(e){return d()(t.start).isBetween(d()(e.start),d()(e.end),void 0,"[)")}));return Object(ie.jsxs)("div",{className:"reservations-for-date",children:[0!==m.length&&Object(ie.jsx)(be.a,{variant:"h6",component:"h6",children:"\u0420\u0435\u0437\u0435\u0440\u0432\u0430\u0446\u0438\u0438"}),0!==m.length&&Object(ie.jsx)(me.a,{className:"reservations-list",children:m.map((function(e,t){return Object(ie.jsxs)(Oe.a,{className:"reservations-list-item",secondaryAction:Object(ie.jsx)(fe.a,{edge:"end","aria-label":"edit",color:"primary",onClick:function(){return function(e){var t=a.filter((function(t){return t._id===e}));b(t),i(!0)}(e._id)},children:Object(ie.jsx)(he.a,{children:"edit"})}),children:[Object(ie.jsx)(ge.a,{children:Object(ie.jsx)(ve.a,{children:Object(ie.jsx)(he.a,{children:"person"})})}),Object(ie.jsx)(xe.a,{primary:e.title,secondary:"".concat(d()(e.start).format("DD.MM.YY")," - ").concat(d()(e.end).format("DD.MM.YY"))})]},t)}))}),Object(ie.jsx)(pe.a,{open:r,onClose:l,children:Object(ie.jsxs)(ue.a,{className:"modal-content",children:[Object(ie.jsx)(fe.a,{className:"close","aria-label":"close",onClick:l,children:Object(ie.jsx)(he.a,{children:"close"})}),Object(ie.jsx)(Ae,{editedReservation:j,setModalState:i})]})})]})})),Ye=Object(j.b)((function(e){return{reservations:G(e),range:K(e),userId:b(e)}}),(function(e){return{addReservation:function(t){return e(Y(t))}}}))((function(e){var t=e.addReservation,a=e.range,c=e.userId,s=Object(l.h)().id,r={name:"",email:"",descr:"",phone:"",start:null,end:null,title:"",owner:c,roomType:s,roomPrice:Ee[s].price,paymentStatus:!1,guests:2,totalPrice:null,nightsCount:null,bookingDate:new Date},i=Object(n.useState)(r),o=Object(ae.a)(i,2),u=o[0],j=o[1],b=Object(n.useState)(!1),m=Object(ae.a)(b,2),f=m[0],h=m[1];Object(n.useEffect)((function(){if(null!==a.end){var e=Math.round(Math.abs((a.start-a.end)/864e5));j(Object(O.a)(Object(O.a)({},u),{},{start:a.start,end:a.end,nightsCount:e}))}}),[a]),Object(n.useEffect)((function(){j(Object(O.a)(Object(O.a)({},u),{},{totalPrice:u.nightsCount*u.roomPrice}))}),[u.roomPrice,u.nightsCount]),Object(n.useEffect)((function(){j(Object(O.a)(Object(O.a)({},u),{},{roomType:s}))}),[s]);var g=function(){return h(!1)},v=function(e){"name"===e.target.name?j(Object(O.a)(Object(O.a)({},u),{},{name:e.target.value,title:e.target.value})):j(Object(O.a)(Object(O.a)({},u),{},Object(Ne.a)({},e.target.name,e.target.value))),"paymentStatus"===e.target.name&&j(Object(O.a)(Object(O.a)({},u),{},{paymentStatus:e.target.checked}))};return Object(ie.jsxs)("div",{className:"add-reservation-container",children:[Object(ie.jsx)(be.a,{variant:"h6",component:"h6",sx:{marginBottom:"6px"},children:"\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0434\u0430\u0442\u044b"}),Object(ie.jsx)(be.a,{variant:"p",component:"p",sx:{marginBottom:"20px"},className:"secondary-descr",children:"".concat(d()(a.start).format("DD.MM.YY")," - ").concat(d()(a.end).format("DD.MM.YY"))}),Object(ie.jsx)(Se.a,{fullWidth:!0,onClick:function(){h(!0)},variant:"contained",endIcon:Object(ie.jsx)(he.a,{children:"add"}),children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0431\u0440\u043e\u043d\u044c"}),Object(ie.jsx)(pe.a,{open:f,onClose:g,children:Object(ie.jsxs)(ue.a,{className:"modal-content",children:[Object(ie.jsx)(fe.a,{className:"close","aria-label":"close",onClick:g,children:Object(ie.jsx)(he.a,{children:"close"})}),Object(ie.jsxs)(be.a,{variant:"p",component:"p",className:"secondary-descr",sx:{marginBottom:"20px"},children:["\u041d\u0430 \u0434\u0430\u0442\u044b"," ","".concat(d()(a.start).format("DD.MM.YY")," - ").concat(d()(a.end).format("DD.MM.YY"))]}),Object(ie.jsx)(ue.a,{className:"reservation-edit-form",children:Object(ie.jsxs)("form",{onSubmit:function(){t(u),h(!1),j(r)},children:[Object(ie.jsx)(ke.a,{required:!0,id:"name",label:"\u0418\u043c\u044f \u0433\u043e\u0441\u0442\u044f",name:"name",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0433\u043e\u0441\u0442\u044f",onChange:v,value:u.name,fullWidth:!0,margin:"normal",size:"small",InputLabelProps:{shrink:!0}}),Object(ie.jsx)(ke.a,{required:!0,id:"email",label:"Email",name:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u044d\u043c\u0435\u0439\u043b",onChange:v,value:u.email,type:"email",fullWidth:!0,margin:"normal",size:"small",InputLabelProps:{shrink:!0}}),Object(ie.jsx)(ke.a,{required:!0,id:"phone",label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",name:"phone",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",onChange:v,value:u.phone,fullWidth:!0,margin:"normal",size:"small",InputLabelProps:{shrink:!0}}),Object(ie.jsx)(ke.a,{id:"details",label:"\u0414\u0435\u0442\u0430\u043b\u0438",name:"descr",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0435\u0442\u0430\u043b\u0438 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f",onChange:v,value:u.descr,fullWidth:!0,margin:"normal",size:"small",multiline:!0,minRows:4,InputLabelProps:{shrink:!0}}),Object(ie.jsxs)(ue.a,{className:"guests-and-price",children:[Object(ie.jsx)(ke.a,{required:!0,id:"guests",label:"\u041a\u043e\u043b\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0433\u043e\u0441\u0442\u0435\u0439",name:"guests",placeholder:"2",onChange:v,value:u.guests,margin:"normal",size:"small",InputLabelProps:{shrink:!0},type:"number"}),Object(ie.jsx)(ke.a,{required:!0,id:"price",label:"\u0426\u0435\u043d\u0430 \u0437\u0430 \u043d\u043e\u0447\u044c",name:"roomPrice",placeholder:"1300",onChange:v,value:u.roomPrice,type:"number",margin:"normal",size:"small",InputLabelProps:{shrink:!0}})]}),Object(ie.jsx)(ue.a,{className:"price-and-payment",children:Object(ie.jsx)(De.a,{className:"prepayment-checkbox",control:Object(ie.jsx)(ye.a,{name:"paymentStatus",onChange:v}),label:"\u041f\u0440\u0435\u0434\u043e\u043f\u043b\u0430\u0442\u0430"})}),Object(ie.jsxs)(Re.a,{className:"card-actions",children:[Object(ie.jsx)("div",{}),Object(ie.jsx)(Se.a,{type:"submit",variant:"contained",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})]})})]})})]})}));a(179);var _e=Object(j.b)((function(e){return{reservations:G(e),userId:b(e),range:K(e),reservationsState:Q(e)}}),(function(e){return{getReservations:function(t){return e(M(t))},setRange:function(t){return e(B(t))},snackbarRun:function(t){return e(de(t))},setIsOpened:function(t){return e(je(t))}}}))((function(e){var t=e.userId,a=e.getReservations,c=e.reservations,s=e.setRange,r=e.range,i=e.reservationsState,u=Object(l.h)().id,j=Object(o.c)(d.a);Object(n.useEffect)((function(){a({userId:t,roomType:u,isAdmin:!0})}),[i,u,t,a]);var b=function(e){var t=e.start,a=e.end,n=new Date;if(n.setHours(0,0,0,0),t<n)return!1;s({start:t,end:a})};return Object(ie.jsxs)(oe.a,{children:[Object(ie.jsxs)(ue.a,{className:"calendar-top-block",children:[Object(ie.jsx)("h1",{children:"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c"}),Object(ie.jsx)(le,{})]}),Object(ie.jsxs)("div",{className:"calendar-grid",children:[Object(ie.jsx)(o.a,{style:{height:"700px"},selectable:!0,localizer:j,events:c,defaultView:o.b.MONTH,onSelectEvent:b,onSelectSlot:b,eventPropGetter:function(e){var t="#1976d2";return!1===e.paymentStatus&&(t="#eb0000"),{style:{backgroundColor:t}}},dayPropGetter:function(e){var t,a=new Date;return a.setHours(0,0,0,0),e>a&&e!==a&&(t="white"),e<a&&(t="#e5e5e5"),{style:{backgroundColor:t}}}}),Object(ie.jsx)("div",{className:"calendar-sidebar",children:Object(ie.jsx)("div",{className:"calendar-sidebar-content",children:null!==r&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Me,{}),Object(ie.jsx)(Ye,{})]})})})]})]})})),Te=(a(180),Object(j.b)((function(e){return{reservations:G(e),isAuthenticated:m(e)}}),null)((function(e){var t=e.reservations,a=e.isAuthenticated,c=Object(n.useState)(null),s=Object(ae.a)(c,2),r=s[0],i=s[1];return Object(n.useEffect)((function(){if(a){var e=t.filter((function(e){return new Date(e.start)>=new Date((new Date).setHours(0,0,0,0))}));e.sort((function(e,t){return new Date(t.date)-new Date(e.date)})),i(e)}}),[t,a]),Object(ie.jsx)(ie.Fragment,{children:null!==r&&r.length>0&&Object(ie.jsxs)("div",{className:"bookings-list",children:[Object(ie.jsx)("div",{className:"booking-cards-title",children:Object(ie.jsx)("h3",{children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"})}),Object(ie.jsx)("div",{className:"booking-cards",children:r.map((function(e,t){return Object(ie.jsxs)("div",{className:"booking-card",children:[Object(ie.jsxs)("div",{className:"card-left",children:[Object(ie.jsx)("div",{className:"name",children:e.name}),Object(ie.jsx)("div",{className:"nigts-guests",children:"".concat(e.nightsCount," \u043d\u043e\u0447\u0435\u0439 - ").concat(e.guests," \u0433\u043e\u0441\u0442\u0435\u0439")}),Object(ie.jsx)("div",{className:"room-type",children:e.roomType})]}),Object(ie.jsx)("div",{className:"card-center",children:Object(ie.jsx)("div",{className:"booking-dates",children:"".concat(d()(e.start).format("DD.MM.YY")," - ").concat(d()(e.end).format("DD.MM.YY"))})}),Object(ie.jsxs)("div",{className:"card-right",children:[Object(ie.jsxs)("div",{className:"total",children:["UAH ",e.totalPrice]}),Object(ie.jsx)("div",{className:"book-date",children:d()(e.bookingDate).format("DD.MM.YY")})]})]},t)}))})]})})}))),Le=Object(j.b)((function(e){return{userId:b(e),isAuthenticated:m(e)}}),(function(e){return{getReservations:function(t){return e(M(t))}}}))((function(e){var t=e.getReservations,a=e.userId,c=e.isAuthenticated;return Object(n.useEffect)((function(){c&&t({userId:a,isAdmin:!0})}),[c,t,a]),Object(ie.jsxs)(oe.a,{children:[Object(ie.jsx)(ue.a,{children:Object(ie.jsx)("h1",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u043a\u043e\u043c\u043d\u0430\u0442\u044b"})}),Object(ie.jsx)(le,{}),null!==a&&Object(ie.jsx)(Te,{})]})})),We={setIsAuthenticated:Object(g.b)("auth/setIsAuthenticated"),setUserId:Object(g.b)("auth/setUserId")},ze=function(e){return function(t){t(We.setIsAuthenticated(e))}},Be=function(e){return function(t){t(We.setUserId(e))}},He="User data",Ue=function(){var e=Object(n.useState)(null),t=Object(ae.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(null),r=Object(ae.a)(s,2),i=r[0],l=r[1],o=Object(n.useCallback)((function(e,t){c(e),l(t),localStorage.setItem(He,JSON.stringify({userId:t,token:e}))}),[]),u=Object(n.useCallback)((function(){c(null),l(null),localStorage.removeItem(He)}),[]);return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem(He));e&&e.token&&o(e.token,e.userId)}),[o]),{login:o,logout:u,token:a,userId:i}},qe=(a(181),a(270)),Fe=a(271),Ge=a(272),Ke=Object(j.b)(null,(function(e){return{setIsAuthenticated:function(){return e(ze(!0))},setUserId:function(t){return e(Be(t))},snackbarRun:function(t){return e(de(t))},setIsOpened:function(t){return e(je(t))}}}))((function(e){var t=e.setIsAuthenticated,a=e.setUserId,c=e.snackbarRun,s=e.setIsOpened,r=Object(n.useState)({email:"",password:""}),i=Object(ae.a)(r,2),l=i[0],o=i[1],u=Object(n.useState)(!1),d=Object(ae.a)(u,2),j=d[0],b=d[1],m=window.location.pathname,f=Ue().login,g=function(e){o(Object(O.a)(Object(O.a)({},l),{},Object(Ne.a)({},e.target.name,e.target.value)))};return Object(ie.jsx)(oe.a,{children:Object(ie.jsx)(ue.a,{children:Object(ie.jsxs)(qe.a,{className:"auth-card",children:[Object(ie.jsxs)("form",{onSubmit:function(e){e.preventDefault(),"/login"===m?(b(!0),h.a.post("/api/auth/login",Object(O.a)({},l)).then((function(e){f(e.data.token,e.data.userId),s(!0),c({message:e.data.message,status:"success"}),t(),a(e.data.userId)})).catch((function(e){b(!1),s(!0),c({message:e.message,status:"error"})}))):(b(!0),h.a.post("/api/auth/register",Object(O.a)({},l)).then((function(e){s(!0),c({message:e.data.message,status:"success"})})).catch((function(e){b(!1),s(!0),c({message:e.message,status:"error"})})))},children:[Object(ie.jsxs)(Fe.a,{className:"card-content",children:["/login"===m?Object(ie.jsx)(be.a,{variant:"h4",component:"h4",gutterBottom:!0,children:"\u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"}):Object(ie.jsx)(be.a,{variant:"h4",component:"h4",gutterBottom:!0,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(ie.jsx)(ke.a,{required:!0,id:"email",label:"Email",name:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email",onChange:g,value:l.email,fullWidth:!0,margin:"normal",size:"small"}),Object(ie.jsx)(ke.a,{required:!0,id:"password",label:"Password",name:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",onChange:g,value:l.password,type:"password",fullWidth:!0,margin:"normal",size:"small"})]}),Object(ie.jsx)(Re.a,{className:"card-actions",children:"/login"===m?Object(ie.jsx)(Se.a,{variant:"contained",type:"submit",children:"\u0412\u043e\u0439\u0442\u0438"}):Object(ie.jsx)(Se.a,{variant:"contained",type:"submit",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})})]}),j&&Object(ie.jsx)("div",{className:"loader-container",children:Object(ie.jsx)(Ge.a,{})})]})})})})),Je=function(){return Object(ie.jsx)(Ke,{})},Ve=function(){return Object(ie.jsx)(Ke,{})},Qe=(a(182),a(91)),Xe=(a(183),a(184),a(36));a(185);Xe.e.use([Xe.c,Xe.d,Xe.b,Xe.a]);var Ze=function(e){var t=e.roomType,a=e.amountAvailable;return Object(ie.jsxs)("div",{className:"room-list-item",children:[Object(ie.jsx)("div",{className:"slider",children:Object(ie.jsx)(Qe.a,{spaceBetween:50,slidesPerView:1,cssMode:!0,navigation:!0,pagination:!0,mousewheel:!0,keyboard:!0,children:null!==t&&Ee[t].slider_photos.map((function(e,t){return Object(ie.jsx)(Qe.b,{children:Object(ie.jsx)("img",{src:e})},t)}))})}),Object(ie.jsxs)("div",{className:"room-item-content",children:[Object(ie.jsx)("div",{className:"category",children:Ee[t].category}),Object(ie.jsx)("div",{className:"name",children:Ee[t].name}),Object(ie.jsx)("div",{className:"details",children:Ee[t].details}),Object(ie.jsxs)("div",{className:"price-block",children:[Object(ie.jsx)("div",{className:"available-rooms",children:"( \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e ".concat(a," )")}),Object(ie.jsxs)("div",{className:"inner",children:[Object(ie.jsxs)("b",{children:[Ee[t].price," \u0433\u0440\u043d"]})," / \u043d\u0456\u0447"]})]})]}),Object(ie.jsx)(i.b,{to:"/room/".concat(t),className:"see-more"})]})},$e=(a(186),Object(j.b)((function(e){return{bookingRange:V(e),availableRooms:Z(e)}}),null)((function(e){var t=e.availableRooms,a=e.bookingRange,c=Object(n.useState)(null),s=Object(ae.a)(c,2),r=s[0],i=s[1];Object(n.useEffect)((function(){i(t)}),[t]);var l=[];for(var o in r)l.push({property:o,value:r[o]});return Object(ie.jsx)(ie.Fragment,{children:null!==t&&null!==a.to&&Object(ie.jsx)("div",{className:"available-rooms-list",children:0!==l.length&&l.map((function(e,t){return Object(ie.jsx)("div",{className:"room-item-block",children:e.value>0&&Object(ie.jsx)(Ze,{roomType:e.property,amountAvailable:e.value})},t)}))})})}))),et=(a(187),Object(j.b)((function(e){return{guests:X(e)}}),(function(e){return{setGuests:function(t){return e(z(t))}}}))((function(e){var t=e.guests,a=e.setGuests,c=Object(l.h)().id,s=Object(n.useState)(!1),r=Object(ae.a)(s,2),i=r[0],o=r[1],u=Object(n.useState)(!1),d=Object(ae.a)(u,2),j=d[0],b=d[1],m=function(e){var n=e.target.getAttribute("name");a(Object(O.a)(Object(O.a)({},t),{},Object(Ne.a)({},n,t[n]+1)))},f=function(e){var n=e.target.getAttribute("name");"adult"===n&&1!==t.adult&&a(Object(O.a)(Object(O.a)({},t),{},Object(Ne.a)({},n,t[n]-1))),"children"===n&&t.children>0&&a(Object(O.a)(Object(O.a)({},t),{},Object(Ne.a)({},n,t[n]-1)))};return Object(n.useEffect)((function(){t.adult+t.children>3?o(!0):o(!1),t.adult+t.children>=2&&"standard"===c?b(!0):b(!1)}),[t]),Object(ie.jsxs)("div",{className:"add-guests-counter",children:[Object(ie.jsxs)(ue.a,{className:"guests-counter-item",children:[Object(ie.jsx)(be.a,{variant:"span",component:"span",className:"guests-label",children:"\u0414\u043e\u0440\u043e\u0441\u043b\u0438\u0445"}),Object(ie.jsx)(fe.a,{className:"minus","aria-label":"minus",onClick:function(e){return f(e)},children:Object(ie.jsx)(he.a,{name:"adult",children:"remove"})}),Object(ie.jsx)("span",{className:"guests-value",children:t.adult}),Object(ie.jsx)(fe.a,{className:"plus","aria-label":"plus",onClick:function(e){return m(e)},disabled:j,children:Object(ie.jsx)(he.a,{name:"adult",children:"add"})})]}),Object(ie.jsxs)(ue.a,{className:"guests-counter-item",children:[Object(ie.jsx)(be.a,{variant:"span",component:"span",className:"guests-label",children:"\u0414\u0456\u0442\u0435\u0439"}),Object(ie.jsx)(fe.a,{className:"minus","aria-label":"minus",onClick:function(e){return f(e)},children:Object(ie.jsx)(he.a,{name:"children",children:"remove"})}),Object(ie.jsx)("span",{className:"guests-value",children:t.children}),Object(ie.jsx)(fe.a,{className:"plus","aria-label":"plus",onClick:function(e){return m(e)},disabled:j,children:Object(ie.jsx)(he.a,{name:"children",children:"add"})})]}),i&&Object(ie.jsxs)("div",{className:"counter-disclaimer",children:["\u041f\u043b\u0430\u043d\u0443\u0454\u0442\u0435 \u043f\u043e\u0457\u0437\u0434\u043a\u0443 \u043d\u0430 \u0431\u0456\u043b\u044c\u0448\u0435 \u043d\u0456\u0436 3 \u0433\u043e\u0441\u0442\u0435\u0439, \u0432\u0430\u043c \u0431\u0443\u0434\u0443\u0442\u044c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0456 \u043c\u0456\u043d\u0456\u043c\u0443\u043c 2 \u043d\u043e\u043c\u0435\u0440\u0438. \u0417\u0432'\u044f\u0436\u0456\u0442\u044c\u0441\u044f \u0437 \u043d\u0430\u043c\u0438 \u0437\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043e\u043c:",Object(ie.jsx)("br",{}),Object(ie.jsx)("a",{href:"tel:+380971914806",className:"phone-link",children:"+38 (097) 191 48 06"})]})]})}))),tt="61aa52470f00a54463f6efa8",at=(a(188),Object(j.b)((function(e){return{reservations:G(e),bookingRange:V(e),isAuthenticated:m(e),guests:X(e),datePickerState:$(e)}}),(function(e){return{getReservations:function(t){return e(M(t))},setBookingRange:function(t){return e(W(t))},setAvailableRooms:function(t){return e(H(t))},setDatePickerState:function(t){return e(U(t))}}}))((function(e){var t=e.reservations,a=e.getReservations,c=e.isAuthenticated,s=e.setBookingRange,r=e.bookingRange,i=e.setAvailableRooms,o=e.setDatePickerState,u=e.datePickerState,j=Object(l.h)().id,b=Object(n.useState)({from:null,to:null}),m=Object(ae.a)(b,2),O=m[0],f=m[1],h=Object(n.useState)(null),g=Object(ae.a)(h,2),v=g[0],x=g[1],p=Object(n.useState)(null),N=Object(ae.a)(p,2),k=N[0],D=N[1],y=Object(n.useState)(null),R=Object(ae.a)(y,2),S=R[0],w=R[1],I=Object(n.useState)(0),C=Object(ae.a)(I,2),P=C[0],E=C[1],A={start:O.from,end:O.to};Object(n.useEffect)((function(){switch(j){case"standard":E(Ee.standard.amount);break;case"luxe":E(Ee.luxe.amount);break;case"deluxe":E(Ee.deluxe.amount);break;default:E(6)}}),[c,a,j]),Object(n.useEffect)((function(){(u||-1!==window.location.href.indexOf("room"))&&a({userId:tt,isAdmin:!1,roomType:j||""})}),[u]),Object(n.useEffect)((function(){for(var e=[],a=function(a){t.filter((function(e){return t[a].start===e.start})).length>=P&&e.push(new Date(t[a].start),{after:new Date(t[a].start),before:new Date(t[a].end)})},n=0;n<t.length;n++)a(n);e.push({before:new Date}),D(e),w(e)}),[t,P]),Object(n.useEffect)((function(){null!==O.from&&w([{after:v,before:O.from}])}),[O,v]),Object(n.useEffect)((function(){if(null!==O.to){w(k);var e=t.filter((function(e){return d()(O.from).isBetween(d()(e.start),d()(e.end),void 0,"[)")||d()(O.to).isBetween(d()(e.start),d()(e.end),void 0,"()")}));console.log(e);for(var a={standard:Ee.standard.amount,luxe:Ee.luxe.amount,deluxe:Ee.deluxe.amount},n=0;n<e.length;n++)"standard"===e[n].roomType&&0!==a.standard&&(a.standard=a.standard-1),"luxe"===e[n].roomType&&0!==a.luxe&&(a.luxe=a.luxe-1),"deluxe"===e[n].roomType&&0!==a.deluxe&&(a.deluxe=a.deluxe-1);i(a),s(O),o(!1)}null===O.to&&s({from:null,to:null})}),[O.to]),Object(n.useEffect)((function(){null!==r.from&&f(r)}),[r]);var M=function(){w(k)};return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)(Ie.a,{mode:"range",locale:"ua",months:Ce.MONTHS,weekdaysLong:Ce.WEEKDAYS_LONG,weekdaysShort:Ce.WEEKDAYS_SHORT,numberOfMonths:2,month:null!==r.to?r.from:new Date,fromMonth:new Date,disabledDays:null!==S?S:k,selectedDays:O,modifiers:A,onDayClick:function(e,t){var a=t.disabled;if(e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a)return M(),void f({from:null,to:null});if(f({from:null,to:null}),we.DateUtils.isSameDay(e,O.from))M();else{for(var n=0;n<S.length;n++)S[n]>e&&x(S[n]);var c=we.DateUtils.addDayToRange(e,O);null!==O.from&&null!==O.to||f(c)}}})})}))),nt=Object(j.b)((function(e){return{bookingRange:V(e),guests:X(e),datePickerState:$(e)}}),(function(e){return{setDatePickerState:function(t){return e(U(t))}}}))((function(e){var t=e.bookingRange,a=e.guests,c=e.datePickerState,s=e.setDatePickerState,r=Object(n.useRef)(),i=Object(n.useRef)(),l=Object(n.useState)(!1),o=Object(ae.a)(l,2),u=o[0],j=o[1];return Object(n.useEffect)((function(){var e=function(e){r.current&&c&&!r.current.contains(e.target)&&(s(!1),j(!1)),i.current&&u&&!i.current.contains(e.target)&&(s(!1),j(!1))};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[c,u]),Object(ie.jsx)("div",{className:"view-container",children:Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"booking-main-title",children:"\u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456\u0441\u0442\u044c \u043d\u043e\u043c\u0435\u0440\u0456\u0432"}),Object(ie.jsxs)("div",{className:"booking-dates-line",children:[Object(ie.jsx)("div",{className:"choose-dates-label",children:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0430\u0442\u0438"}),Object(ie.jsxs)("div",{className:"dates-container ".concat(c?"opened":""),ref:r,children:[Object(ie.jsx)(Se.a,{variant:null!==t.to?"contained":"outlined",className:"primary-btn",onClick:function(){return s((function(e){return!e}))},children:null!==t.from&&null!==t.to?"".concat(d()(t.from).format("DD.MM.YY")," - ").concat(d()(t.to).format("DD.MM.YY")):"\u0417\u0430\u0457\u0437\u0434 - \u0412\u0438\u0457\u0437\u0434"}),Object(ie.jsxs)("div",{className:"dates-calendar",children:[Object(ie.jsx)(at,{}),Object(ie.jsxs)("div",{className:"actions-block",children:[Object(ie.jsx)(Se.a,{variant:"text",color:"error",onClick:function(){return s(!1)},children:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438"}),Object(ie.jsx)(Se.a,{variant:"text",onClick:function(){return s(!1)},children:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438"})]})]})]}),Object(ie.jsxs)("div",{className:"guests-container ".concat(u?"opened":""),ref:i,children:[Object(ie.jsx)(Se.a,{variant:"contained",className:"primary-btn",onClick:function(){return j((function(e){return!e}))},children:a.adult+a.children===1?"".concat(a.adult+a.children," \u0433\u043e\u0441\u0442\u044c"):"".concat(a.adult+a.children," \u0433\u043e\u0441\u0442\u0435\u0439")}),Object(ie.jsxs)("div",{className:"guests-calendar",children:[Object(ie.jsx)(et,{}),Object(ie.jsxs)("div",{className:"actions-block",children:[Object(ie.jsx)(Se.a,{variant:"text",color:"error",onClick:function(){return j(!1)},children:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438"}),Object(ie.jsx)(Se.a,{variant:"text",onClick:function(){return j(!1)},children:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438"})]})]})]})]}),Object(ie.jsx)($e,{})]})})})),ct=(a(189),function(){var e=Object(l.h)().id,t=Object(n.useState)(!1),a=Object(ae.a)(t,2),c=a[0],s=a[1],r=function(e){s(e)};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("div",{className:"gallery-container",onClick:function(){return r(!0)},children:[Object(ie.jsx)("div",{className:"main-block",children:Ee[e].slider_photos.map((function(e,t){if(0===t)return Object(ie.jsx)("div",{className:"gallery-image",children:Object(ie.jsx)("img",{src:e,width:"200"})},t)}))}),Object(ie.jsx)("div",{className:"secondary-images-block",children:Ee[e].slider_photos.map((function(e,t){if(0!==t&&t<=4)return Object(ie.jsx)("div",{className:"gallery-image",children:Object(ie.jsx)("img",{src:e,width:"200"})},t)}))}),Object(ie.jsx)("div",{className:"mobile-images-counter",children:"1 / ".concat(Ee[e].slider_photos.length)})]}),Object(ie.jsxs)("div",{className:c?"overflow-gallery-modal opened":"overflow-gallery-modal",children:[Object(ie.jsx)("div",{className:"header-actions",children:Object(ie.jsx)(Se.a,{className:"close-btn",variant:"text",onClick:function(){return r(!1)},startIcon:Object(ie.jsx)(he.a,{children:"close"}),children:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438"})}),Object(ie.jsx)("div",{className:"overflow-gallery-content",children:Ee[e].slider_photos.map((function(e,t){return Object(ie.jsx)("div",{className:"gallery-image",children:Object(ie.jsx)("img",{src:e,width:"200"})},t)}))})]})]})}),st=(a(190),Object(j.b)((function(e){return{bookingRange:V(e),nightsCount:ee(e),guests:X(e),totalPrice:te(e),reservations:G(e),datePickerState:$(e)}}),(function(e){return{setNightsCount:function(t){return e(q(t))},setTotalPrice:function(t){return e(F(t))},setDatePickerState:function(t){return e(U(t))}}}))((function(e){var t=e.bookingRange,a=e.setNightsCount,c=e.nightsCount,s=e.guests,r=e.totalPrice,o=e.setTotalPrice,u=e.reservations,j=e.datePickerState,b=e.setDatePickerState,m=Object(l.h)().id,O=Object(n.useRef)(),f=Object(n.useState)(0),h=Object(ae.a)(f,2),g=h[0],v=h[1],x=Object(n.useState)(""),p=Object(ae.a)(x,2),N=p[0],k=p[1];return Object(n.useEffect)((function(){switch(m){default:v(Ee.standard.price);break;case"luxe":v(Ee.luxe.price);break;case"deluxe":v(Ee.deluxe.price)}}),[m]),Object(n.useEffect)((function(){if(null!==t.to){var e=Math.round(Math.abs((t.from-t.to)/864e5));a(e)}}),[t.to]),Object(n.useEffect)((function(){null!==t.to&&(1===c?k("\u043d\u0456\u0447"):c>1&&c<5?k("\u043d\u043e\u0447\u0456"):c>=5&&k("\u043d\u043e\u0447\u0435\u0439"))}),[t,c]),Object(n.useEffect)((function(){if(s.adult+s.children>2){var e=g*c+Ee[m].extra_cost*c;o(e)}else{o(g*c)}}),[s,t,c,u]),Object(n.useEffect)((function(){var e=function(e){O.current&&j&&!O.current.contains(e.target)&&b(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[j]),Object(ie.jsx)("div",{className:"subtotal-col",children:Object(ie.jsxs)("div",{className:"preview-block",children:[Object(ie.jsxs)("div",{className:"dates",onClick:function(){return b(!0)},children:[Object(ie.jsxs)("div",{className:"arrival",children:[Object(ie.jsx)("div",{className:"label",children:"\u0414\u0430\u0442\u0430 \u0437\u0430\u0457\u0437\u0434\u0443"}),Object(ie.jsx)("div",{className:"value",children:null!==t.from?d()(t.from).format("DD.MM.YY"):"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0430\u0442\u0443"})]}),Object(ie.jsxs)("div",{className:"arrival",children:[Object(ie.jsx)("div",{className:"label",children:"\u0414\u0430\u0442\u0430 \u0432\u0438\u0457\u0437\u0434\u0443"}),Object(ie.jsx)("div",{className:"value",children:null!==t.to?d()(t.to).format("DD.MM.YY"):"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0430\u0442\u0443"}),Object(ie.jsx)("div",{className:"dates-container ".concat(j?"opened":""),ref:O,children:Object(ie.jsxs)("div",{className:"dates-calendar",children:[Object(ie.jsx)(at,{}),Object(ie.jsxs)("div",{className:"actions-block",children:[Object(ie.jsx)(Se.a,{variant:"text",color:"error",onClick:function(e){b(!1),e.stopPropagation()},children:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438"}),Object(ie.jsx)(Se.a,{variant:"text",onClick:function(e){b(!1),e.stopPropagation()},children:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438"})]})]})})]})]}),Object(ie.jsx)(et,{}),null!==t.to&&s.adult+s.children<=3&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"disclaimer",children:"\u041f\u043e\u043a\u0438 \u0449\u043e \u0432\u0438 \u043d\u0456 \u0437\u0430 \u0449\u043e \u043d\u0435 \u043f\u043b\u0430\u0442\u0438\u0442\u0435"}),Object(ie.jsx)(i.b,{className:"checkout-btn",to:"/checkout/".concat(m,"/?checkin=").concat(d()(t.from).format("YYYY-MM-DD"),"&checkout=").concat(d()(t.to).format("YYYY-MM-DD"),"&guests=").concat(s.adult+s.children,"&nightsCount=").concat(c,"&totalPrice=").concat(r),children:"\u0417\u0430\u0431\u0440\u043e\u043d\u044e\u0432\u0430\u0442\u0438"}),Object(ie.jsxs)("div",{className:"pricing-list",children:[Object(ie.jsxs)("div",{className:"pricing-list-item",children:[Object(ie.jsx)("div",{className:"subtotal",children:"UAH ".concat(g," x ").concat(c," ").concat(N)}),Object(ie.jsx)("div",{className:"total",children:"UAH ".concat(g*c)})]}),s.adult+s.children>=3&&"standard"!==m&&Object(ie.jsxs)("div",{className:"pricing-list-item",children:[Object(ie.jsx)("div",{className:"subtotal",children:"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0435 \u043c\u0456\u0441\u0446\u0435 x ".concat(c," ").concat(N)}),Object(ie.jsx)("div",{className:"total",children:"UAH ".concat(350*c)})]}),Object(ie.jsxs)("div",{className:"pricing-list-item total-item",children:[Object(ie.jsx)("div",{className:"subtotal",children:"\u0417\u0430\u0433\u0430\u043b\u043e\u043c"}),Object(ie.jsx)("div",{className:"total",children:"UAH ".concat(r)})]})]})]})]})})}))),rt=(a(191),Object(j.b)((function(e){return{bookingRange:V(e),nightsCount:ee(e)}}),null)((function(e){var t=e.bookingRange,a=e.nightsCount,c=Object(l.h)().id,s=Object(n.useState)("\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0430\u0442\u0438"),r=Object(ae.a)(s,2),o=r[0],u=r[1],j=Object(n.useState)("\u0429\u043e\u0431 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0446\u0456\u043d\u0438, \u0432\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0430\u0442\u0438"),b=Object(ae.a)(j,2),m=b[0],O=b[1];return Object(n.useEffect)((function(){null===t.from?u("\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0430\u0442\u0438"):null!==t.from&&null!==t.to&&(1===a?u("".concat(a," \u043d\u0456\u0447 \u0432 \u0410\u0433\u043e\u0440\u0430 \u0428\u0430\u043b\u0435")):a>1&&a<5?u("".concat(a," \u043d\u043e\u0447\u0456 \u0432 \u0410\u0433\u043e\u0440\u0430 \u0428\u0430\u043b\u0435")):a>=5&&u("".concat(a," \u043d\u043e\u0447\u0435\u0439 \u0432 \u0410\u0433\u043e\u0440\u0430 \u0428\u0430\u043b\u0435")))}),[t,a]),Object(n.useEffect)((function(){null===t.from?O("\u0429\u043e\u0431 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0446\u0456\u043d\u0438, \u0432\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0430\u0442\u0438"):null!==t.from&&null!==t.to&&O("".concat(d()(t.from).format("DD.MM.YY")," - ").concat(d()(t.to).format("DD.MM.YY")))}),[t]),Object(ie.jsxs)("div",{className:"view-container",children:[Object(ie.jsx)("div",{className:"back-to-header",children:Object(ie.jsxs)(i.b,{to:"/",children:[Object(ie.jsx)(he.a,{children:"keyboard_arrow_left"}),"\u041d\u0430\u0437\u0430\u0434"]})}),Object(ie.jsxs)("div",{className:"room-details_title",children:[Object(ie.jsx)("div",{className:"title",children:Ee[c].name}),Object(ie.jsx)("div",{className:"descr",children:Ee[c].details})]}),Object(ie.jsx)(ct,{}),Object(ie.jsxs)("div",{className:"dates-and-subtotal-container",children:[Object(ie.jsx)("div",{className:"main-container",children:Object(ie.jsxs)("div",{className:"section",children:[Object(ie.jsxs)("div",{className:"room-details_title",children:[Object(ie.jsx)("div",{className:"secondary-title",children:o}),Object(ie.jsx)("div",{className:"descr",children:m})]}),Object(ie.jsx)(at,{})]})}),Object(ie.jsx)("div",{className:"subtotal-column",children:Object(ie.jsx)(st,{})})]})]})}))),it=(a(192),Object(j.b)((function(e){return{reservations:G(e),range:K(e),userId:b(e)}}),(function(e){return{addReservation:function(t){return e(Y(t))}}}))((function(){var e=Object(l.h)().id,t=Object(l.g)(),a=Object(i.c)(),c=Object(ae.a)(a,2),s=c[0],r=(c[1],{from:new Date(s.get("checkin")),to:new Date(s.get("checkout"))});return Object(n.useEffect)((function(){null!==s.get("checkin")&&null!==s.get("checkout")&&null!==s.get("guests")||t("/room/".concat(e))}),[s]),Object(ie.jsxs)("div",{className:"section",children:[Object(ie.jsx)("div",{className:"section-title",children:"\u0414\u0435\u0442\u0430\u043b\u0456 \u0431\u0440\u043e\u043d\u044e\u0432\u0430\u043d\u043d\u044f"}),Object(ie.jsxs)("div",{className:"section-content",children:[Object(ie.jsxs)("div",{className:"section-content__item",children:[Object(ie.jsx)("div",{className:"item-subtitle",children:"\u041d\u043e\u043c\u0435\u0440"}),Object(ie.jsxs)("div",{className:"item-value",children:[Ee[e].name," ( ",Ee[e].category," )"]})]}),Object(ie.jsxs)("div",{className:"section-content__item",children:[Object(ie.jsx)("div",{className:"item-subtitle",children:"\u0414\u0430\u0442\u0438"}),Object(ie.jsx)("div",{className:"item-value",children:"".concat(d()(r.from).format("DD.MM.YY")," - ").concat(d()(r.to).format("DD.MM.YY"))})]}),Object(ie.jsxs)("div",{className:"section-content__item",children:[Object(ie.jsx)("div",{className:"item-subtitle",children:"\u0413\u043e\u0441\u0442\u0456"}),Object(ie.jsx)("div",{className:"item-value",children:s.get("guests")})]}),Object(ie.jsxs)("div",{className:"section-content__item",children:[Object(ie.jsx)("div",{className:"item-subtitle",children:"\u0421\u0443\u043c\u043c\u0430 \u0431\u0440\u043e\u043d\u044e\u0432\u0430\u043d\u043d\u044f"}),Object(ie.jsx)("div",{className:"item-value",children:"UAH ".concat(s.get("totalPrice"))})]})]})]})}))),lt=Object(j.b)((function(e){return{bookingRange:V(e),nightsCount:ee(e),guests:X(e),totalPrice:te(e)}}),null)((function(){var e=Object(i.c)(),t=Object(ae.a)(e,2),a=t[0],c=(t[1],Object(n.useState)(0)),s=Object(ae.a)(c,2),r=s[0],l=s[1],o=Object(n.useState)(0),u=Object(ae.a)(o,2),d=u[0],j=u[1];return Object(n.useEffect)((function(){l(parseInt(a.get("totalPrice"))/parseInt(a.get("nightsCount"))),j(parseInt(a.get("totalPrice"))-parseInt(a.get("totalPrice"))/parseInt(a.get("nightsCount")))}),[r]),Object(ie.jsxs)("div",{className:"section",children:[Object(ie.jsx)("div",{className:"section-title",children:"\u0414\u0435\u0442\u0430\u043b\u0456 \u043e\u043f\u043b\u0430\u0442\u0438"}),Object(ie.jsxs)("div",{className:"section-content",children:[Object(ie.jsxs)("div",{className:"section-content__item",children:[Object(ie.jsx)("div",{className:"item-subtitle",children:"\u041f\u0435\u0440\u0435\u0434\u043f\u043b\u0430\u0442\u0430"}),Object(ie.jsxs)("div",{className:"item-value",children:["\u041f\u0456\u0441\u043b\u044f \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043d\u044f \u0431\u0440\u043e\u043d\u044e\u0432\u0430\u043d\u043d\u044f, \u0432\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u043e\u043f\u043b\u0430\u0442\u0438\u0442\u0438 \u043f\u0435\u0440\u0435\u0434\u043f\u043b\u0430\u0442\u0443 \u0437\u0430 1 \u043d\u0456\u0447 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u043d\u044f ","UAH ".concat(r)," \u043f\u0440\u043e\u0442\u044f\u0433\u043e\u043c \u0434\u0432\u043e\u0445 \u0434\u043d\u0456\u0432 \u0432\u0456\u0434 \u0434\u0430\u0442\u0438 \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043d\u044f."]})]}),0!==d&&Object(ie.jsxs)("div",{className:"section-content__item",children:[Object(ie.jsx)("div",{className:"item-subtitle",children:"\u0417\u0430\u043b\u0438\u0448\u043e\u043a \u043e\u043f\u043b\u0430\u0442\u0438"}),Object(ie.jsxs)("div",{className:"item-value",children:["\u041f\u0456\u0441\u043b\u044f \u043f\u0435\u0440\u0435\u0434\u043f\u043b\u0430\u0442\u0438, \u0437\u0430\u043b\u0438\u0448\u043e\u043a ","UAH ".concat(d," "),"\u043c\u043e\u0436\u043d\u0430 \u0431\u0443\u0434\u0435 \u043e\u043f\u043b\u0430\u0442\u0438\u0442\u0438 \u0432 \u0433\u043e\u0442\u0435\u043b\u0456, \u0433\u043e\u0442\u0456\u0432\u043a\u043e\u044e \u0430\u0431\u043e \u043f\u0435\u0440\u0435\u043a\u0430\u0437\u043e\u043c \u043d\u0430 \u043a\u0430\u0440\u0442\u043a\u0443."]})]})]})]})})),ot=Object(j.b)((function(e){return{reservations:G(e),isAuthenticated:m(e)}}),(function(e){return{addReservation:function(t){return e(Y(t))},getReservations:function(t){return e(M(t))},snackbarRun:function(t){return e(de(t))},setIsOpened:function(t){return e(je(t))},setBookingRange:function(t){return e(W(t))}}}))((function(e){var t=e.addReservation,a=e.getReservations,c=e.reservations,s=e.isAuthenticated,r=e.snackbarRun,o=e.setIsOpened,u=e.setBookingRange,j=Object(l.h)().id,b=Object(l.g)(),m=Object(i.c)(),f=Object(ae.a)(m,2),h=f[0],g=(f[1],Object(n.useState)(0)),v=Object(ae.a)(g,2),x=v[0],p=v[1],N=Object(n.useState)(null),k=Object(ae.a)(N,2),D=k[0],y=k[1],R=Object(n.useState)(null),S=Object(ae.a)(R,2),w=S[0],I=S[1],C=Object(n.useState)(null),P=Object(ae.a)(C,2),E=P[0],A=P[1],M={from:new Date(h.get("checkin")),to:new Date(h.get("checkout"))};Object(n.useEffect)((function(){p(Ee[j].amount)}),[]),Object(n.useEffect)((function(){var e=c.filter((function(e){return d()(M.from).isBetween(d()(e.start),d()(e.end),void 0,"[)")||d()(M.to).isBetween(d()(e.start),d()(e.end),void 0,"(]")}));console.log(e),w&&null===E&&(e.length>=x&&0!==x?y(!1):y(!0))}),[c]),Object(n.useEffect)((function(){null!==D&&(D?(t(T),A(!0),L({name:"",email:"",descr:"",phone:"",start:M.from,end:M.to,title:"",owner:tt,roomType:j,roomPrice:Ee[j].price,guests:h.get("guests"),paymentStatus:!1,bookingDate:new Date}),I(null),A(null),u({from:null,to:null}),b("".concat(window.location.search,"&success=true"))):A(!1))}),[D]),Object(n.useEffect)((function(){null!==D&&!1===E&&(o(!0),r({message:"\u041d\u0430 \u0436\u0430\u043b\u044c \u0446\u0456 \u0434\u0430\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0435 \u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456",status:"error"}),b("/room/".concat(j)))}),[D,E]);var Y=Object(n.useState)({name:"",email:"",descr:"",phone:"",start:M.from,end:M.to,title:"",owner:tt,roomType:j,roomPrice:Ee[j].price,paymentStatus:!1,totalPrice:null,guests:h.get("guests"),nightsCount:null,bookingDate:new Date}),_=Object(ae.a)(Y,2),T=_[0],L=_[1];Object(n.useEffect)((function(){if(null!==M.to){var e=Math.round(Math.abs((M.from-M.to)/864e5));L(Object(O.a)(Object(O.a)({},T),{},{nightsCount:e,totalPrice:T.nightsCount*T.roomPrice}))}}),[T.nightsCount]);var W=function(e){"name"===e.target.name?L(Object(O.a)(Object(O.a)({},T),{},{name:e.target.value,title:e.target.value})):L(Object(O.a)(Object(O.a)({},T),{},Object(Ne.a)({},e.target.name,e.target.value))),"paymentStatus"===e.target.name&&L(Object(O.a)(Object(O.a)({},T),{},{paymentStatus:e.target.checked}))};return Object(ie.jsxs)("div",{className:"section form",children:[Object(ie.jsx)("div",{className:"section-title",children:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0448\u0456 \u0434\u0430\u043d\u043d\u0456"}),Object(ie.jsx)("form",{onSubmit:function(e){e.preventDefault(),I(!0),s||a({userId:tt,isAdmin:!1,roomType:j})},children:Object(ie.jsxs)(ue.a,{className:"reservation-edit-form",children:[Object(ie.jsx)(ke.a,{required:!0,id:"name",label:"\u0406\u043c'\u044f",name:"name",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0448\u0435 \u0406\u043c'\u044f",onChange:W,value:T.name,fullWidth:!0,margin:"normal",size:"small",InputLabelProps:{shrink:!0}}),Object(ie.jsx)(ke.a,{required:!0,id:"email",label:"Email",name:"email",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0448 email \u043d\u0430 \u044f\u043a\u0438\u0439 \u043e\u0442\u0440\u0438\u043c\u0430\u0435\u0442\u0435 \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043d\u044f",onChange:W,value:T.email,type:"email",fullWidth:!0,margin:"normal",size:"small",InputLabelProps:{shrink:!0}}),Object(ie.jsx)(ke.a,{required:!0,id:"phone",label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",name:"phone",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u043e\u043c\u0435\u0440 \u0437\u0430 \u044f\u043a\u0438\u043c \u043c\u0438 \u0437\u043c\u043e\u0436\u0435\u043c\u043e \u0437 \u0432\u0430\u043c\u0438 \u0437\u0432'\u044f\u0437\u0430\u0442\u0438\u0441\u044c",onChange:W,value:T.phone,fullWidth:!0,margin:"normal",size:"small",InputLabelProps:{shrink:!0}}),Object(ie.jsx)(ke.a,{id:"details",label:"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0430 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f",name:"descr",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0434\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0443 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e",onChange:W,value:T.descr,fullWidth:!0,margin:"normal",size:"small",multiline:!0,minRows:4,InputLabelProps:{shrink:!0}}),Object(ie.jsxs)(Re.a,{className:"card-actions",children:[Object(ie.jsx)("div",{}),Object(ie.jsx)(Se.a,{type:"submit",variant:"contained",children:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 \u0431\u0440\u043e\u043d\u044e\u0432\u0430\u043d\u043d\u044f"})]})]})})]})})),ut=(a(193),a.p+"static/media/facebook.cc6bac72.svg"),dt=a.p+"static/media/instagram.22bda4c2.svg",jt=a.p+"static/media/viber.14152e55.svg",bt=function(){var e=Object(i.c)(),t=Object(ae.a)(e,2),a=t[0],c=(t[1],Object(n.useState)(0)),s=Object(ae.a)(c,2),r=s[0],l=s[1];return Object(n.useEffect)((function(){l(parseInt(a.get("totalPrice"))/parseInt(a.get("nightsCount")))}),[r]),Object(ie.jsx)("div",{className:"success-container",children:Object(ie.jsxs)("div",{className:"success-inner-content",children:[Object(ie.jsx)("div",{className:"success-image",children:Object(ie.jsx)(he.a,{children:"check_circle"})}),Object(ie.jsxs)("div",{className:"success-text",children:[Object(ie.jsx)("div",{className:"title",children:"\u0414\u044f\u043a\u0443\u0454\u043c\u043e \u0449\u043e \u0437\u0430\u0431\u0440\u043e\u043d\u044e\u0432\u0430\u043b\u0438 \u043d\u043e\u043c\u0435\u0440 \u0432 \u043d\u0430\u0448\u043e\u043c\u0443 \u0448\u0430\u043b\u0435"}),Object(ie.jsxs)("div",{className:"descr",children:["\u0414\u043b\u044f \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043d\u044f \u0431\u0440\u043e\u043d\u044e\u0432\u0430\u043d\u043d\u044f , \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u043e\u043f\u043b\u0430\u0442\u0438\u0442\u0438 \u043f\u0435\u0440\u0435\u0434\u043f\u043b\u0430\u0442\u0443 \u0437\u0430 1 \u043d\u0456\u0447 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u043d\u044f ",Object(ie.jsx)("span",{className:"prep-sum",children:"UAH ".concat(r)})," \u0437\u0430 \u0440\u0435\u043a\u0432\u0456\u0437\u0438\u0442\u0430\u043c\u0438"]}),Object(ie.jsx)("div",{className:"reqs",children:Object(ie.jsx)("div",{className:"item",children:"\u041f\u0440\u0438\u0432\u0430\u0442\u0431\u0430\u043d\u043a 4149 6293 8451 1093 , \u041f\u0440\u0438\u0433\u043e\u0432\u0430 \u0412\u0456\u043a\u0442\u043e\u0440\u0456\u044f"})}),Object(ie.jsx)("div",{className:"descr",children:"\u0412\u0438\u0441\u043b\u0430\u0442\u0438 \u0441\u043a\u0440\u0456\u043d\u0448\u043e\u0442 \u043e\u043f\u043b\u0430\u0442\u0438 \u0430\u0431\u043e \u0444\u043e\u0442\u043e \u0447\u0435\u043a\u0443 \u0437\u0440\u0443\u0447\u043d\u0438\u043c \u0434\u043b\u044f \u0432\u0430\u0441 \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u043c"})]}),Object(ie.jsxs)("div",{className:"socials-block",children:[Object(ie.jsx)("a",{target:"_blank",href:"https://msng.link/o/?agora_chalet=ig",children:Object(ie.jsx)("img",{src:dt,width:"70"})}),Object(ie.jsx)("a",{target:"_blank",href:"https://msng.link/o/?380509441474=vi",children:Object(ie.jsx)("img",{src:jt,width:"75"})}),Object(ie.jsx)("a",{target:"_blank",href:"https://msng.link/o/?agorachalet=fm",children:Object(ie.jsx)("img",{src:ut,width:"70"})})]}),Object(ie.jsxs)("div",{className:"descr",children:["\u041d\u0430\u043c \u0442\u0430\u043a\u043e\u0436 \u043c\u043e\u0436\u043d\u0430 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u0438 \u043d\u0430 ",Object(ie.jsx)("a",{href:"mailto:agorahotel.in.ua@gmail.com",children:"agorahotel.in.ua@gmail.com"})," \u0430\u0431\u043e \u0437\u0430\u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443\u0432\u0430\u0442\u0438 \u0437\u0430 \u043d\u043e\u043c\u0435\u0440\u043e\u043c ",Object(ie.jsx)("a",{href:"tel:+380971914806",class:"phone-link",children:"+38 (097) 191 48 06"})," "]}),Object(ie.jsx)("div",{className:"descr",children:"\u041c\u0438 \u0432\u0438\u0441\u043b\u0430\u043b\u0438 \u0432\u0430\u043c email \u0437 \u0440\u0435\u043a\u0432\u0456\u0437\u0438\u0442\u0430\u043c\u0438 \u043d\u0430 \u0432\u043a\u0430\u0437\u0430\u043d\u0438\u0439 \u0430\u0434\u0440\u0435\u0441."}),Object(ie.jsx)("div",{className:"next-booking",children:Object(ie.jsx)(i.b,{to:"/",children:"\u0417\u0430\u0431\u0440\u043e\u043d\u044e\u0432\u0430\u0442\u0438 \u0449\u0435 \u043e\u0434\u0438\u043d \u043d\u043e\u043c\u0435\u0440"})})]})})},mt=function(){var e=Object(l.h)().id,t=Object(n.useState)(!0),a=Object(ae.a)(t,2),c=a[0],s=a[1],r=Object(i.c)(),o=Object(ae.a)(r,2),u=o[0];o[1];return Object(n.useEffect)((function(){null!==u.get("success")&&s(!1)}),[u]),Object(ie.jsxs)("div",{className:"checkout-container",children:[c&&Object(ie.jsx)("div",{className:"back-to-header",children:Object(ie.jsxs)(i.b,{to:"/room/".concat(e),children:[Object(ie.jsx)(he.a,{children:"keyboard_arrow_left"}),"\u041d\u0430\u0437\u0430\u0434"]})}),Object(ie.jsx)("div",{className:"checkout-columns-container",children:Object(ie.jsx)("div",{className:"checkout-col",children:c?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(it,{}),Object(ie.jsx)(lt,{}),Object(ie.jsx)(ot,{})]}):Object(ie.jsx)(bt,{})})})]})},Ot=function(e){var t=Object(l.f)();return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[t]),Object(ie.jsx)(ie.Fragment,{children:e.children})},ft=function(e){return e.isAuthenticated?Object(ie.jsx)(c.a.Fragment,{children:Object(ie.jsx)(Ot,{children:Object(ie.jsxs)(l.d,{children:[Object(ie.jsx)(l.b,{path:"/calendar",exact:!0,element:Object(ie.jsx)(Le,{})}),Object(ie.jsx)(l.b,{path:"/calendar/:id",exact:!0,element:Object(ie.jsx)(_e,{})}),Object(ie.jsx)(l.b,{path:"/login",element:Object(ie.jsx)(l.a,{replace:!0,to:"/calendar"})}),Object(ie.jsx)(l.b,{path:"/register",element:Object(ie.jsx)(l.a,{replace:!0,to:"/calendar"})}),Object(ie.jsx)(l.b,{path:"/booking/:id",element:Object(ie.jsx)(l.a,{replace:!0,to:"/calendar/:id"})}),Object(ie.jsx)(l.b,{path:"/",element:Object(ie.jsx)(l.a,{replace:!0,to:"/calendar"})})]})})}):Object(ie.jsx)(c.a.Fragment,{children:Object(ie.jsx)(Ot,{children:Object(ie.jsxs)(l.d,{children:[Object(ie.jsx)(l.b,{path:"/",element:Object(ie.jsx)(nt,{})}),Object(ie.jsx)(l.b,{path:"/room/:id",element:Object(ie.jsx)(rt,{})}),Object(ie.jsx)(l.b,{path:"/checkout/:id",element:Object(ie.jsx)(mt,{})}),Object(ie.jsx)(l.b,{path:"/login",exact:!0,element:Object(ie.jsx)(Je,{})}),Object(ie.jsx)(l.b,{path:"/register",exact:!0,element:Object(ie.jsx)(Ve,{})}),Object(ie.jsx)(l.b,{path:"/calendar/*",element:Object(ie.jsx)(l.a,{replace:!0,to:"/"})})]})})})},ht=(a(194),a(273)),gt=a(274),vt=Object(j.b)(null,(function(e){return{setIsAuthenticated:function(t){return e(ze(t))}}}))((function(e){var t=e.setIsAuthenticated,a=Ue().logout;return Object(ie.jsx)(ue.a,{children:Object(ie.jsx)(ht.a,{position:"static",children:Object(ie.jsxs)(gt.a,{children:[Object(ie.jsx)(be.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:Object(ie.jsx)(i.b,{to:"/calendar",className:"brand-logo",children:"Agora bookings"})}),Object(ie.jsx)(Se.a,{color:"inherit",onClick:function(){a(),t(!1)},children:"Logout"})]})})})})),xt=a(251),pt=a(248),Nt=function(e){return e.snackbar.snackbarData.message},kt=function(e){return e.snackbar.snackbarData.status},Dt=function(e){return e.snackbar.snackbarData.isOpened},yt=Object(j.b)((function(e){return{isOpened:Dt(e),message:Nt(e),status:kt(e)}}),(function(e){return{setIsOpened:function(t){return e(je(t))}}}))((function(e){var t=e.isOpened,a=e.message,n=e.status,c=e.setIsOpened,s=function(){c(!1)};return Object(ie.jsx)(xt.a,{open:t,autoHideDuration:6e3,onClose:s,message:a,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(ie.jsx)(pt.a,{onClose:s,severity:n,sx:{width:"100%"},children:a})})}));var Rt,St,wt,It=Object(j.b)((function(e){return{isAuthenticated:m(e)}}),(function(e){return{setIsAuthenticated:function(){return e(ze(!0))},setUserId:function(t){return e(Be(t))}}}))((function(e){var t=e.isAuthenticated,a=e.setIsAuthenticated,s=e.setUserId,r=Ue(),l=r.token,o=r.userId;return Object(n.useEffect)((function(){l&&null!==o&&(a(),s(o))}),[l,a,o,s]),Object(ie.jsxs)(c.a.Fragment,{children:[Object(ie.jsxs)(i.a,{children:[t&&Object(ie.jsx)(vt,{}),Object(ie.jsx)(ft,{isAuthenticated:t})]}),Object(ie.jsx)(yt,{})]})})),Ct=a(18),Pt=a(41),Et=Object(g.c)({isAuthenticated:!1,userId:null},(Rt={},Object(Ne.a)(Rt,We.setIsAuthenticated,(function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{isAuthenticated:a})})),Object(Ne.a)(Rt,We.setUserId,(function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{userId:a})})),Rt)),At=Object(Pt.b)({userData:Et}),Mt={reservations:[],disabledDates:[],range:{start:new Date,end:new Date},reservationsState:0,editedRange:{from:null,to:null},bookingRange:{from:null,to:null},guests:{adult:2,children:0},availableRooms:null,datePickerState:!1,nightsCount:0,totalPrice:0},Yt=Object(g.c)(Mt,(St={},Object(Ne.a)(St,E.getReservations,(function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{reservations:a})})),Object(Ne.a)(St,E.getDisabledDates,(function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{disabledDates:a})})),Object(Ne.a)(St,E.addReservation,(function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{reservations:[].concat(Object(Ct.a)(e.reservations),[a])})})),Object(Ne.a)(St,E.deleteReservation,(function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{reservations:e.reservations.filter((function(e){return e._id!==a}))})})),Object(Ne.a)(St,E.updateReservation,(function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{reservations:Object(Ct.a)(e.reservations.map((function(e){return e._id===a._id?a:e})))})})),Object(Ne.a)(St,E.updateReservationsCount,(function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{reservationsState:a+1})})),Object(Ne.a)(St,E.setRange,(function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{range:a})})),Object(Ne.a)(St,E.setEditedRange,(function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{editedRange:a})})),Object(Ne.a)(St,E.setBookingRange,(function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{bookingRange:a})})),Object(Ne.a)(St,E.setGuests,(function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{guests:a})})),Object(Ne.a)(St,E.setAvailableRooms,(function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{availableRooms:a})})),Object(Ne.a)(St,E.setDatePickerState,(function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{datePickerState:a})})),Object(Ne.a)(St,E.setNightsCount,(function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{nightsCount:a})})),Object(Ne.a)(St,E.setTotalPrice,(function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{totalPrice:a})})),St)),_t=Object(Pt.b)({calendarData:Yt}),Tt=Object(g.c)({message:"",status:"success",isOpened:!1},(wt={},Object(Ne.a)(wt,A.getData,(function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{message:a.message,status:a.status})})),Object(Ne.a)(wt,A.setIsOpened,(function(e,t){var a=t.payload;return Object(O.a)(Object(O.a)({},e),{},{isOpened:a})})),wt)),Lt=Object(Pt.b)({snackbarData:Tt}),Wt=Object(g.a)({reducer:{user:At,calendar:_t,snackbar:Lt},middleware:Object(Ct.a)(Object(g.d)({serializableCheck:!1})),devTools:!1});r.a.render(Object(ie.jsx)(j.a,{store:Wt,children:Object(ie.jsx)(It,{})}),document.getElementById("root"))}},[[195,1,2]]]);
//# sourceMappingURL=main.0173faa8.chunk.js.map